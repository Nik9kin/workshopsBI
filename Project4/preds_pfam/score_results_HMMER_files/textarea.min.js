(function (jQuery) {
  'use strict';

  jQuery = jQuery && jQuery.hasOwnProperty('default') ? jQuery['default'] : jQuery;

  var tryAndRunMain = function tryAndRunMain() {
    try {
      customElements.whenDefined('textarea-sequence').then(function () {
        var seqElement = document.getElementById('textarea_seq');
        var cleanButton = document.getElementById('sequence-cleaner');
        var submitButton = document.getElementById('subbutton');

        window.closeqtip = function () {
          return jQuery(cleanButton).qtip('hide');
        };

        window.cleanSequence = function () {
          seqElement.cleanUp();
          window.closeqtip();
        };

        seqElement.addEventListener("error-change", function () {
          if (seqElement.quill.valid) {
            cleanButton.classList.add('hidden');
            submitButton.removeAttribute('disabled');
          } else {
            cleanButton.classList.remove('hidden');
            submitButton.setAttribute('disabled', 'disabled');
          }
        });
        jQuery(cleanButton).qtip({
          content: {
            title: 'Please confirm',
            text: "\n            Characters in red will be removed - do you want to proceed?<br/><br/>\n            <div>\n              <button class=\"button tiny\" onclick=\"cleanSequence()\">YES</button>\n              <button class=\"button tiny\" onclick=\"closeqtip()\">NO</button></div>"
          },
          position: {
            my: 'bottom center',
            at: 'top center'
          },
          style: {
            classes: 'ui-tooltip-hmmer ui-tooltip-rounded confirm-dialog'
          },
          show: {
            event: '',
            //Stop the qtip from showing on normal events
            modal: {
              on: true
            }
          },
          hide: false
        });
        cleanButton.addEventListener('click', function () {
          jQuery(cleanButton).qtip('show'); //
        });
      });
    } catch (error) {
      console.warn(error);
    }
  };

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function handleReady() {
      document.removeEventListener('DOMContentLoaded', handleReady);
      tryAndRunMain();
    });
  } else {
    tryAndRunMain();
  }

}(jQuery));
//# sourceMappingURL=textarea.min.js.map
