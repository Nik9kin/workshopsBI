var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(W,aa,ba){W instanceof String&&(W=String(W));for(var Y=W.length,a=0;a<Y;a++){var T=W[a];if(aa.call(ba,T,a,W))return{i:a,v:T}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(W,aa,ba){if(W==Array.prototype||W==Object.prototype)return W;W[aa]=ba.value;return W};$jscomp.getGlobal=function(W){W=["object"==typeof globalThis&&globalThis,W,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var aa=0;aa<W.length;++aa){var ba=W[aa];if(ba&&ba.Math==Math)return ba}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(W,aa){var ba=$jscomp.propertyToPolyfillSymbol[aa];if(null==ba)return W[aa];ba=W[ba];return void 0!==ba?ba:W[aa]};$jscomp.polyfill=function(W,aa,ba,Y){aa&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(W,aa,ba,Y):$jscomp.polyfillUnisolated(W,aa,ba,Y))};$jscomp.polyfillUnisolated=function(W,aa,ba,Y){ba=$jscomp.global;W=W.split(".");for(Y=0;Y<W.length-1;Y++){var a=W[Y];if(!(a in ba))return;ba=ba[a]}W=W[W.length-1];Y=ba[W];aa=aa(Y);aa!=Y&&null!=aa&&$jscomp.defineProperty(ba,W,{configurable:!0,writable:!0,value:aa})};$jscomp.polyfillIsolated=function(W,aa,ba,Y){var a=W.split(".");W=1===a.length;Y=a[0];Y=!W&&Y in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var T=0;T<a.length-1;T++){var L=a[T];if(!(L in Y))return;Y=Y[L]}a=a[a.length-1];ba=$jscomp.IS_SYMBOL_NATIVE&&"es6"===ba?Y[a]:null;aa=aa(ba);null!=aa&&(W?$jscomp.defineProperty($jscomp.polyfills,a,{configurable:!0,writable:!0,value:aa}):aa!==ba&&(void 0===$jscomp.propertyToPolyfillSymbol[a]&&(ba=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[a]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(a):$jscomp.POLYFILL_PREFIX+ba+"$"+a),$jscomp.defineProperty(Y,$jscomp.propertyToPolyfillSymbol[a],{configurable:!0,writable:!0,value:aa})))};$jscomp.polyfill("Array.prototype.find",function(W){return W?W:function(aa,ba){return $jscomp.findInternal(this,aa,ba).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(W){var aa=0;return function(){return aa<W.length?{done:!1,value:W[aa++]}:{done:!0}}};$jscomp.arrayIterator=function(W){return{next:$jscomp.arrayIteratorImpl(W)}};$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(W){if(W)return W;var aa=function(T,L){this.$jscomp$symbol$id_=T;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:L})};aa.prototype.toString=function(){return this.$jscomp$symbol$id_};var ba="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",Y=0,a=function(T){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new aa(ba+(T||"")+"_"+Y++,T)};return a},"es6","es3");$jscomp.polyfill("Symbol.iterator",function(W){if(W)return W;W=Symbol("Symbol.iterator");for(var aa="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),ba=0;ba<aa.length;ba++){var Y=$jscomp.global[aa[ba]];"function"===typeof Y&&"function"!=typeof Y.prototype[W]&&$jscomp.defineProperty(Y.prototype,W,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return W},"es6","es3");$jscomp.iteratorPrototype=function(W){W={next:W};W[Symbol.iterator]=function(){return this};return W};$jscomp.iteratorFromArray=function(W,aa){W instanceof String&&(W+="");var ba=0,Y=!1,a={next:function(){if(!Y&&ba<W.length){var T=ba++;return{value:aa(T,W[T]),done:!1}}Y=!0;return{done:!0,value:void 0}}};a[Symbol.iterator]=function(){return a};return a};$jscomp.polyfill("Array.prototype.keys",function(W){return W?W:function(){return $jscomp.iteratorFromArray(this,function(aa){return aa})}},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(W){return W?W:function(){return $jscomp.iteratorFromArray(this,function(aa,ba){return ba})}},"es8","es3");(function(W,aa,ba,Y){(function(a){function T(H,A){return H.then(function(D){var C=a.Deferred();setTimeout(function(){C.resolve(D)},A);return C})}function L(H){var A=Zlib.Inflate,D,C,E,c,b=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-2,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];var f=b.length;var h=Array(4*((f+2)/3|0));var d=D=E=C=0;for(c=H.length;d<c;++d){var q=(H.charCodeAt(d)&255)-43;if(!(0>q||q>=f||(q=b[q],0>q)))switch(E){case 0:D=(q&63)<<2;++E;break;case 1:D|=(q&48)>>4;h[C++]=D;D=(q&15)<<4;++E;break;case 2:D|=(q&60)>>2;h[C++]=D;D=(q&3)<<6;++E;break;case 3:D|=q&63,h[C++]=D,E=0}}h.length=C;H=(new A(h)).decompress();A="";for(D=0;D<H.length;D++)A+=String.fromCharCode(H[D]);return a.parseJSON(A)}function N(H,A){var D={};a.each(H.widgets,function(C,E){var c={};a.isArray(E)&&(c=E[1],E=E[0]);a.isFunction(a.fn[E])&&(D[C]=a.fn[E](H,c,D,A))});return D}function O(H,A,D){var C=[],E={};a.each(A,function(b,f){C.push(b)});C.sort(function(b,f){return(A[b].prio||50)-(A[f].prio||50)});a.each(C,function(b,f){var h=A[f];h.frame&&(b=h.frame(D),a.each(b,function(d,q){if("$"!=d)for(q.name=d,q.widget=h,d=0;d<q.tags.length;d++)E[q.tags[d]]||(E[q.tags[d]]=[]),E[q.tags[d]].push(q)}),D=b.$)});var c={};a.each(C,function(b,f){b=A[f];if(b.position)for(var h=0;h<b.position.length;h++)if(E.hasOwnProperty(b.position[h])){h=E[b.position[h]];c[h[0].name]||(c[h[0].name]=[]);c[h[0].name].push([f,b,h[0]]);h.push(h.shift());break}});a.each(c,function(b,f){b=f.slice();b.sort(function(d,q){return(q[1].position_order||50)-(d[1].position_order||50)});for(f=0;f<b.length;f++){var h=a('<div data-widget-name="'+b[f][0]+'"/>');h.append(b[f][1].generate);h=a("<div/>").append(h);b[f][2].$.append(h)}});return D}function I(H,A,D){A.pipes=[];var C=[];a.each(H,function(E,c){C.push(c)});C.sort(function(E,c){return(E.prio||50)-(c.prio||50)});a.each(C,function(E,c){c.pipe&&(A.pipes=A.pipes.concat(c.pipe(D)))})}
function r(H,A,D){var C=!0,E=!1,c=[],b=[],f=[],h={},d=a.extend(!0,{},A);a.each(H.pipes,function(q,G){if(q=G(d,D,h))q.manifest&&(d=q.manifest),q.undo&&c.push(q.undo),q.dundo&&f.push(q.dundo),q.eundo&&b.push(q.eundo),q.no_incr&&(C=!1),q.all_rows&&(E=!0)});return{manifest:d,undo:c,eundo:b,wire:h,incr_ok:C,all_rows:E,dundo:f}}function y(H,A,D,C,E,c){var b=a.extend(!0,{},D.manifest),f=a.Deferred();f.resolve([b,C,0]);F(H,A,"think",1);C=function(h){var d=(0,D.undo[h[2]])(h[0],h[1],E,c);return[d[0],d[1],h[2]+1]};for(b=0;b<D.undo.length;b++)f=T(f.then(C),10);return f=f.then(function(h){F(H,A,"think",-1);return{orient:h[0],data:h[1]}})}function m(H,A,D,C,E){a.each(H.eundo,function(c,b){C=b(C,A,D,E)});return C}function k(H,A){var D=A.data("view");a(".layout",A).html('<div data-widget-name="'+D.format+'">'+H[D.format].layout(A,H)+"</div>");var C=a("div[data-widget-name="+D.format+"]",A);C.hasClass("_inited")||(C.addClass("_inited"),H[D.format].go(A,C))}function l(H,A,D,C,E,c,b){var f=H.data("grid")||[],h=H.data("grid-manifest")||[],d,q=H.data("grid-series")||[],G={};for(d=0;d<q.length;d++)G[q[d]]=d;for(d=0;d<b.length;d++)G.hasOwnProperty(b[d])||(G[b[d]]=q.length,q.push(b[d]));H.data("grid-series",q);q=[];for(d=0;d<b.length;d++)q.push(G[b[d]]);a.orient_compares_equal(c,h)||(f=[],H.data("grid-manifest",c));for(c=0;c<A.length;c++){h=C;d=0;if(!h)for(h=[],b=0;b<A[c].length;b++)h[E+b]=E+b;for(b=0;b<h.length;b++)h[b]&&h[b]>d&&(d=h[b]);for(b=0;b<=d;b++)f[b]||(f[b]=[]);for(b=0;b<A[c].length;b++)d=null,D[c][b]||(d=A[c][b]),f[h[b+E]][q[c]]=d}H.data("grid",f)}function n(H,A,D,C,E,c){var b=H.data("grid")||[],f=H.data("grid-series")||[],h=H.data("keymeta")||{};A=m(D,b,f,A,h)||{};var d=H.data("ranges")||{};D=H.data("range-manifest")||[];a.orient_compares_equal(C,D)||(d={},H.data("range-manifest",C));a.each(A,function(q,G){var U=a.find_type(c,E.colconf[q]).merge;d[q]=U(d[q],G)});H.data("ranges",d);H.trigger("range-updated")}function u(H,A){var D=H.data("keymeta")||{};a.each(A||{},function(C,E){D[C]||(D[C]={});a.each(E||{},function(c,b){D[C][c]||(D[C][c]={});a.each(b||{},function(f,h){D[C][c][f]||(D[C][c][f]={});a.each(h||{},function(d,q){D[C][c][f][d]=q})})})});H.data("keymeta",D)}function g(H,A,D,C,E,c,b,f){var h=a.Deferred();h.resolve([0,D]);F(H,A,"think",1);for(var d=function(G){var U=(0,C.dundo[G[0]])(E,D,c,b,f);return[G[0]+1,U]},q=0;q<C.dundo.length;q++)h=T(h.then(d),10);return h.then(function(G){F(H,A,"think",-1);return G[1]})}function p(H,A,D,C,E){console.log("render_grid",C,E);var c=A.data("view"),b=A.data("grid"),f=A.data("grid-series");-1==E&&(E=b.length);return y(H,A,D,b,f,c).then(function(h){D.all_rows&&(C=0,E=h.data.length);a.orient_compares_equal(h.orient,c)&&g(H,A,h.data,D,h.orient,f,C,E).then(function(d){H[c.format].add_data(A,d,f,C,E,h.orient);H[c.format].truncate_to(A,d,f,h.orient)})})}function w(H,A){null!==na&&p(H,A,na,X,ca).then(function(){null!==ha&&ha.resolve();na=ha=null})}function v(H,A,D,C,E){null===na&&(na=D);a.orient_compares_equal(na,D)||(null!==ha&&(ha.resolve(),ha=null),X=C,ca=E,na=D);null===ha&&(ha=a.Deferred());C<X&&(-1<ca&&(ca+=X-C),X=C);-1==ca||-1==E?ca=-1:C+E>X+ca&&(ca=C+E-X);(D.incr_ok||A.data("complete"))&&w(H,A);return ha}function B(H){var A,D=[],C=[],E=0;for(A=0;A<H.nulls.length;A++){var c=L(H.nulls[A]),b=L(H.data[A]);E+=H.len[A];for(var f=0;f<c.length;f++){0===A&&(D[f]=[],C[f]=[]);for(var h=0,d=[],q=0;q<c[f].length;q++)c[f][q]?d.push(null):d.push(b[f][h++]);D[f]=D[f].concat(d);C[f]=C[f].concat(c[f])}}return{data:D,nulls:C,totlen:E}}function J(H,A,D,C,E,c){u(A,D.keymeta);var b=A.data("manifest"),f=B(C);l(A,f.data,f.nulls,c,C.start,b.manifest,C.series);n(A,D.enums||{},b,D.shadow,E,H);var h=A.data("min-size")||0;h<C.shadow_num&&(h=C.shadow_num);A.data("min-size",h);a.each(H,function(d,q){q.size&&q.size(A,h)});return[C.start,f.totlen]}function Q(H){var A={};H=H.split("?",2);if(2>H.length)return A;H=H[1].split(";");for(var D=0;D<H.length;D++){var C=H[D].split("=");A[C[0]]=C[1]}return A}function x(H,A,D,C){if(A.closest("html").length){var E=A.data("manifest");D.more&&t(H,A,E,D.more,C);if(a.orient_compares_equal(E.manifest,D.orient)){F(H,A,"think",1);var c=a.Deferred().resolve([0,-1,-1]);D.more||(console.log("complete"),A.data("complete",!0),w(H,A));for(var b=function(h){var d=(new Date).getTime(),q=J(H,A,D,D.responses[h[0]],C,D.order);if(-1==h[1]||q[0]<h[1])h[1]=q[0];if(-1==h[2]||q[0]+q[1]>h[2])h[2]=q[0]+q[1];h=a.Deferred().resolve([h[0]+1,h[1],h[2]]);return 25>(new Date).getTime()-d?h:T(h,10)},f=0;f<D.responses.length;f++)c=c.then(b);c=c.then(function(h){return v(H,A,E,h[1],h[2]-h[1])}).then(function(){D.more||F(H,A,"load",-1);F(H,A,"think",-1)})}}}function t(H,A,D,C,E){null===C&&F(H,A,"load",1);A.data("complete",!1);console.log("incomplete");if(!a.orient_compares_equal(D.manifest,wa)){console.log("Cancelling outstanding");for(var c=0;c<ka.length;c++)ka[c]&&ka[c].abort(),ka[c]=null;ia=0;wa=D.manifest}ia||(ka=[]);c=A.data("payload_one");u(A,c.keymeta);if(c&&a.orient_compares_equal(D.manifest,E.orient))A.data("payload_one",""),x(H,A,c,E);else{null===C&&F(H,A,"think",1);c=a.extend({},D.manifest,D.wire);var b=A.data("src");D=a.extend({},Q(b),{keymeta:JSON.stringify(A.data("keymeta")||{}),wire:JSON.stringify(c),orient:JSON.stringify(D.manifest),more:JSON.stringify(C),config:JSON.stringify(E),series:JSON.stringify(E.columns),ssplugins:JSON.stringify(E.ssplugins),source:"enstab"});var f=ka.length;ia++;ka[f]=a.post(A.data("src"),D,function(h){ka[f]=null;ia--;null===C&&F(H,A,"think",-1);x(H,A,h,E)},"json")}}function F(H,A,D,C,E){if(E!==Y&&null!==E){if(sa.hasOwnProperty(E)&&0<C)return;sa[E]=1}var c=-1;ra[D]||(ra[D]=0);0===ra[D]&&C&&(c=1);ra[D]+=C;0>ra[D]&&(ra[D]=0);0===ra[D]&&C&&(c=0);if(-1==c)return a.Deferred().resolve();E!==Y&&null!==E&&0===c&&sa.hasOwnProperty(E)&&delete sa[E];a.each(H,function(f,h){h.flux&&(h.flux(A,D,c),A.trigger("flux-"+D,[c?!0:!1]))});var b=a.Deferred();setTimeout(function(){b.resolve()},1);return b}function z(H,A){a.each(H,function(D,C){C.go_data&&C.go_data(A)})}function R(H,A,D,C){a.each(H,function(E,c){c.paint&&(C=c.paint(A,D,C))});return C}
function K(H,A,D){xa++;var C=H.data("src");A=a.extend({},Q(C),{activity:"save_orient",source:"enstab",keymeta:JSON.stringify(H.data("keymeta")||{}),config:JSON.stringify(A),ssplugins:JSON.stringify(A.ssplugins),orient:JSON.stringify(D),seq:xa});a.post(H.data("src"),A,function(E){},"json")}function M(H,A){var D=H.data("src");A=a.extend({},Q(D),{activity:"load_orient",source:"enstab",keymeta:JSON.stringify(H.data("keymeta")||{}),config:JSON.stringify(A),ssplugins:JSON.stringify(A.ssplugins)});a.post(D,A,function(C){H.data("view",C.orient);H.trigger("view-updated")},"json")}function P(H){var A=a.parseJSON(H.text()),D=[],C=[];C=N(A,function(b){var f=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b=f[0];var h={_all:!0,_any:!1,_last:Y};f=f.slice(1);a.each(D,function(d,q){d=C[q];d[b]&&(f.push(h._last),h[q]=d[b].apply(this,f),f.pop(),h._all=h._all&&h[q],h._any=h._any||h[q],h._last=h[q])});return h});a.each(C,function(b,f){D.push(b)});D.sort(function(b,f){return(C[b].prio||50)-(C[f].prio||50)});var E=a('<div class="layout"/>');E=O(A,C,E);I(C,A,E);E.data("src",H.attr("href"));H.replaceWith(E);H={columns:A.columns};var c=a.extend(!0,{},A.orient);E.data("view",c).data("old-view",{}).data("config",H);E.data("payload_one",A.payload_one);delete A.payload_one;E.on("think-on",function(b,f){F(C,E,"think",1,f)});E.on("think-off",function(b,f){F(C,E,"think",-1,f)});E.on("flux-update",function(b,f){E.trigger("flux-"+f,[ra[f]?!0:!1])});k(C,E);E.on("view-updated",function(){var b=E.data("view");K(E,A,b);var f=E.data("old-view");b.format!=f.format&&k(C,E);F(C,E,"think",1).then(function(){var h=C,d=E,q=d.data("manifest")||{},G=a.extend(!0,{},d.data("view"));d.data("orient",G);G=r(A,G,q.manifest);d.data("manifest",G);na=null;a.orient_compares_equal(G.manifest,q.manifest)?v(h,d,G,0,-1):(console.log("crusty data"),t(h,d,G,null,A));E.data("old-view",a.extend(!0,{},b));F(C,E,"think",-1)})});E.on("markup-activate",function(b,f){z(C,f)});E.on("spawn",function(b,f,h){b=E.data("src");f=a.extend({},E.data("view"),f);var d=Math.floor(1E9*Math.random());f=a.extend({},Q(b),{keymeta:JSON.stringify(E.data("keymeta")||{}),config:JSON.stringify(A),orient:JSON.stringify(f),wire:JSON.stringify(f),ssplugins:JSON.stringify(A.ssplugins),spawntoken:d,more:JSON.stringify(null),source:"enstab",incr_ok:0});var q='<form method="POST" id="spawn" action="'+b+'">';a.each(f,function(ea,Z){Z=a("<div/>").text(Z).html().replace(/"/g,"&quot;");q+='<input type="hidden" name="'+ea+'" value="'+Z+'"/>'});q+="</form><script>\x3c/script>";h.contents().find("body").empty().append(q);h.contents().find("#spawn").submit();var G=0,U=function(){var ea=ba.cookie.split("spawntoken="),Z=null;2==ea.length&&(Z=ea.pop().split(";").shift());Z==d?F(C,E,"think",-1,"spawn"):600>G++&&setTimeout(U,1E3)};F(C,E,"think",1,"spawn");U()});E.on("paint-individual",function(b,f,h,d){f.html(R(C,E,h,d))});a("div[data-widget-name]",E).each(function(b,f){b=a(f);f=b.attr("data-widget-name");b.hasClass("_inited")||(b.addClass("_inited"),C[f].go(E,b))});E.data("abandon-ship")||M(E,A)}var X=0,ca=0,na=null,ha=null,ia=0,ka=[],wa={},ra={},sa={},xa=+Date.now();a.orient_compares_equal=function(H,A){if(H===A)return!0;if(!a.isPlainObject(H)&&!a.isArray(H)||!a.isPlainObject(A)&&!a.isArray(A)||(a.isArray(H)?!a.isArray(A):a.isArray(A)))return!1;var D=!0;a.each(H,function(C,E){a.orient_compares_equal(A[C],E)||(D=!1)});a.each(A,function(C,E){a.orient_compares_equal(H[C],E)||(D=!1)});return D};a.find_type=function(H,A){var D;a.each(H,function(C,E){if(E.types)for(C=0;C<E.types.length;C++)E.types[C].name==A.type_js&&(D=E.types[C])});return D?D:null};a.debounce=function(H,A){var D;return function(){var C=this,E=arguments;D||(D=setTimeout(function(){D=null;H.apply(C,E)},A))}};a.whenquiet=function(H,A,D,C){var E;return function(){D&&D.trigger("think-on",[C]);var c=this,b=arguments;E&&clearTimeout(E);E=setTimeout(function(){E=null;D&&D.trigger("think-off",[C]);H.apply(c,b)},A)}};a.fn.newTable=function(){this.each(function(H,A){P(a(A))});return this}})(jQuery);(function(a){function T(L,N,O){return(parseFloat(L)-
parseFloat(N))*O}a.fn.new_table_clientsort=function(L,N,O){function I(m){return m}function r(m){var k=[],l=!0;a.each(m.sort,function(n,u){if(k)if(L.colconf[u.key])if(n=a.find_type(O,L.colconf[u.key]),n.sort){var g=n.clean;g||(g=I);k.push({dir:u.dir,fn:n.sort,clean:g,key:u.key});L.colconf[u.key].incr_ok||(l=!1)}else k=null;else k=null});if(!k)return null;k.push({dir:1,fn:T,clean:I,key:"__tie"});return{stages:k,incr_ok:l}}function y(m,k){if(!(m&&k&&m.sort&&k.sort)||1<m.sort.length||1<k.sort.length||m.sort[0].key!=k.sort[0].key||m.sort[0].dir!=-k.sort[0].dir)return null;m.sort[0].dir*=-1;return function(l,n,u){for(var g=-1,p=0;p<u.length;p++)u[p]==k.sort[0].key&&(g=p);var w=[[],[]];a.each(n,function(v,B){w[0+(null===B[g])].push(B)});w[0].reverse();w[1].reverse();l.sort[0].dir*=-1;return[l,w[0].concat(w[1])]}}a.each(L.columns,function(m,k){});return{generate:function(){},go:function(m,k){},pipe:function(m){return[function(k,l,n){if(!k.sort)return null;if(n=y(k,l))return{undo:n};var u=r(k);if(!u)return null;var g=k.sort;k.sort=(l||{}).sort;m.trigger("think-on",["sort"]);return{undo:function(p,w,v){for(var B={},J=0;J<v.length;J++)B[v[J]]=J;w=w.slice();a.each(w,function(t,F){F[v.length]=t});var Q={},x=m.data("keymeta")||{};v=v.slice();v.push("__tie");B.__tie=v.length-1;w.sort(function(t,F){for(var z=u.stages,R=0,K=0;K<z.length;K++){var M=z[K];if(!R){Q[M.key]||(Q[M.key]={});var P=t[B[M.key]],X=F[B[M.key]];(R=!(null!==P&&P!==Y)-!(null!==X&&X!==Y))||(R=M.fn(M.clean(P),M.clean(X),M.dir,Q[M.key],x,M.key))}}return R});p.sort=g;m.trigger("think-off",["sort"]);return[p,w]},no_incr:!u.incr_ok}}]}}}})(jQuery);(function(a){a.fn.new_table_columns=function(T,L,N,O){function I(m,k){var l=m.data("view").off_columns;a("li input",k).each(function(){var n=a(this);n.prop("checked",!l||!l[n.data("key")])})}function r(m,k){var l={};a("li input",k).each(function(){var n=a(this);l[n.data("key")]=!n.prop("checked")});k=m.data("view");k.off_columns=l;m.data("view",k).trigger("view-updated")}var y=a.debounce(function(m,k){r(m,k)},1E3);return{generate:function(){var m='<div class="col_toggle"><div class="toggle">Show/hide columns<ul class="floating_popup">';a.each(T.columns,function(k,l){k=T.colconf[l];O("unshowable",k)._any||(m+='<li><input type="checkbox" data-key="'+l+'"><span>'+(k.label||l)+"</span></li>")});return m+="</ul></div></div>"},go:function(m,k){var l=a(".toggle",k),n=a(".floating_popup",k);l.click(function(){n.toggle()});m.on("view-updated",function(){I(m,n)});a("li",n).click(function(){var u=a("input",this);u.prop("checked",!u.prop("checked"));y(m,n);return!1});a("input",n).click(function(u){y(m,n);u.stopPropagation()});I(m,n)},position:L.position,pipe:function(){return[function(m,k){if(!k)return null;var l=!0;a.each(k.off_columns||{},function(u,g){!m.off_columns[u]&&k.off_columns[u]&&(l=!1)});var n=m.off_columns;l&&(m.off_columns=k.off_columns);return{undo:function(u,g){u.off_columns=n;return[u,g]}}}]}}}})(jQuery);(function(a){a.fn.new_table_config=function(T,L,N,O){return{columns:function(I,r){a.each(I.columns,function(y,m){y=I.colconf[m];O("unshowable",y)._any||r.push(O("layout_th",m,y)._last)})}}}})(jQuery);(function(a){a.fn.newtable_decorate=function(T,L,N){function O(r,y,m,k,l,n,u){a.each(N,function(g,p){if(p[l]&&p[l][y]&&p[l][y][m]){g=p[l][y][m];p=[];for(var w=0;w<g.length;w++){var v=g[w](m,k,n,u);v&&p.push(v)}r[m]||(r[m]=[]);r[m]=r[m].concat(p)}});a.each(r,function(g,p){p.sort(function(w,v){return(v.prio||50)-(w.prio||50)})})}function I(r,y,m){var k={};r=r.data("keymeta")||{};var l={};a.each(r,function(n,u){n=n.split("/",2);"decorate"==n[0]&&(l[n[1]]=u)});k={};a.each(l,function(n,u){a.each(u,function(g,p){O(k,n,g,p,y,m,l)})});return k}return{prio:90,paint:function(r,y,m){return[function(){for(var k=I(r,"decorate_one")[y]||[],l=0;l<k.length;l++)m=k[l].go(m);""==m&&(m="No data");return m}]},pipe:function(r){return[function(y,m){return{dundo:function(k,l,n,u,g){k=[];for(var p=I(r,"decorators",n),w=0;w<l.length;w++)k[w]=l[w];for(w=u;w<u+g;w++){for(var v=[],B=0;B<l[w].length;B++){var J=l[w][B],Q=n[B];if(J===Y||null===J)J="";if(p[Q]){Q=p[Q];for(var x=0;x<Q.length;x++)J=Q[x].go(J,l[w],n)}J||(J="-");v[B]=J}k[w]=v}return k}}}]}}}})(jQuery);(function(a){a.fn.newtable_decorate_also=function(T,L){function N(I,r,y){var m={};a.each(y,function(k,l){m[l]=k});return{go:function(k,l){for(var n=r["*"].cols||[],u=[],g=!0,p=0;p<n.length;p++){var w=n[p],v=l[m[w]];null===v||v===Y?g=!1:u.push("<small>("+l[m[w]]+")</small>")}return g?k+" "+u.join(" "):k}}}var O={};a.each(T.colconf,function(I,r){r.decorate&&-1!=a.inArray("also",r.decorate)&&(O[I]=[N])});return{decorators:{also:O}}}})(jQuery);(function(a){a.fn.newtable_decorate_editorial=function(T,L){function N(I,r,y){r["*"]&&r["*"].source&&(I=r["*"].source);for(var m=-1,k=0;k<y.length;k++)y[k]==I&&(m=k);return{go:function(l,n){if(-1==m)return l;if(!l)return"-";n=n[m];var u=r[n];return u?'<div align="center"><div title="'+(u.helptip||n)+'" class="_ht score '+u.cssclass+'">'+l+"</div></div>":l}}}var O={};a.each(T.colconf,function(I,r){r.decorate&&-1!=a.inArray("editorial",r.decorate)&&(O[I]=[N])});return{decorators:{editorial:O}}}})(jQuery);(function(a){a.fn.newtable_decorate_fancy_position=function(T,L){function N(I,r,y){return{go:function(m,k){if(k=m.match(/^(.*?):(\d+)-(\d+)([+-]?)$/))m=k[2]+"-"+k[3],k[2]==k[3]&&(m=k[2]),m="<b>"+k[1]+"</b>:"+m,k[4]&&(m+=" ("+k[4]+")");return m}}}var O={};a.each(T.colconf,function(I,r){r.decorate&&-1!=a.inArray("fancy_position",r.decorate)&&(O[I]=[N])});return{decorators:{fancy_position:O}}}})(jQuery);(function(a){function T(L,N){return'<div class="coltab"><span class="coltab-tab" style="background-color: '+
L+';">&nbsp;</span><div class="coltab-text">'+N+"</div></div>"}a.fn.newtable_decorate_iconic=function(L,N){function O(m,k){return{go:function(l){var n=k[l]||{};n.icon?l='<img src="'+n.icon+'"/>'+l:n.coltab&&(l=T(n.coltab,l));return l}}}function I(m,k,l,n){var u=null,g={};a.each(l,function(w,v){g[v]=w});var p=!1;k["*"]&&k["*"].icon_source&&(u=g[k["*"].icon_source],p=!0);return{prio:10,go:function(w,v){var B=w.split("~"),J=k;if(u||0===u)B=[v[u]],J=n.iconic[k["*"].icon_source];v="";for(var Q=0;Q<B.length;Q++){var x="",t={};J[B[Q]]&&(t=J[B[Q]]);if(t.icon){var F="";t.helptip&&(F+=' class="_tht" title="'+t.helptip+'" ');x+='<img src="'+t.icon+'" '+F+"/>"}else t.helptip&&(x='<span class="ht _tht"><span class="_ht_tip hidden">'+t.helptip+"</span>"),x+=B[Q],B[Q]||(x+="-"),t.helptip&&(x+="</span>"),t.coltab&&(x=T(t.coltab,x));v+=x}p&&(""!=v&&(v+=" "),v+=w);B.length&&""!==w||(v="-");return v}}}var r={},y={};a.each(L.colconf,function(m,k){k.decorate&&-1!=a.inArray("iconic",k.decorate)&&(r[m]=[I],y[m]=[O])});return{decorators:{iconic:r},decorate_one:{iconic:y}}}})(jQuery);(function(a){function T(L,N,O,I,r){var y=[L],m=[N],k=[O];"\r"==(L||"").charAt(0)&&(y=L.substring(1).split("\r"),m=N.substring(1).split("\r"));"\r"==(O||"").charAt(0)&&(k=O.substring(1).split("\r"));html="";for(L=0;L<m.length;L++)L&&(html+=", "),N=m[L],O=r,L<k.length&&(O+=' title="'+k[L]+'"'),y[L]&&(N='<a href="'+y[L]+'"'+O+">"+N+"</a>"),html+=N;I&&(html+='<br /><span class="small" style="white-space:nowrap;"><b>ID: </b>'+I+"</span>");return html}a.fn.newtable_decorate_link=function(L,N){function O(r,y,m){var k={};a.each(m,function(l,n){k[n]=l});y["*"]&&y["*"].base_url&&y["*"].base_url.match(/\?/)&&(y["*"].query=function(l){var n={};a.each(l.split("?")[1].split(/;|&/),function(u,g){g=g.split("=");n[g[0]]=g[1]});return n}(y["*"].base_url),y["*"].base_url=y["*"].base_url.split(/\?/)[0]);return{go:function(l,n){if(y["*"]){var u="";y["*"].url_rel&&(u=' rel="'+y["*"].url_rel+'"');if(y["*"].url_column){var g="";y["*"].title_column&&(g=n[k[y["*"].title_column]]);var p="";y["*"].extra_column&&(p=n[k[y["*"].extra_column]]);var w=n[k[y["*"].url_column]];l=T(w,l,g,p,u)}else if(y["*"].base_url){w=y["*"].base_url;g=y["*"].params||{};p=y["*"].query||{};var v=!0,B;for(B in g)if(g.hasOwnProperty(B)){var J=g[B];J=g[B]?n[k[J]]:!1;null===J||J===Y?v=!1:!1===J?delete p[B]:p[B]=encodeURIComponent(J)}if(!v)return l;w=function(Q,x){return(x=a.map(x,function(t,F){return F+"="+t}).sort().join(";"))?Q+"?"+x:Q}(w,p);l=l.match(/<a/)?l.replace(/href="/g,'href="'+w):'<a href="'+w+'"'+u+">"+l+"</a>"}}return l}}}
var I={};a.each(L.colconf,function(r,y){y.decorate&&-1!=a.inArray("link",y.decorate)&&(I[r]=[O])});return{decorators:{link:I}}}})(jQuery);(function(a){a.fn.newtable_decorate_recolour=function(T,L){function N(I,r,y){if(r["*"]&&r["*"].recolour)var m=r["*"].recolour;return{go:function(k,l){if(!m)return k;a.each(m,function(n,u){k=k.replace(new RegExp(n,"g"),'<span style="color:'+u+'">'+n+"</span>")});return k}}}var O={};a.each(T.colconf,function(I,r){r.decorate&&-1!=a.inArray("recolour",r.decorate)&&(O[I]=[N])});return{decorators:{recolour:O}}}})(jQuery);(function(a){a.fn.newtable_decorate_toggle=function(T,L){function N(I,r,y){var m={};a.each(y,function(k,l){m[l]=k});return{go:function(k,l){var n=r["*"].max||20;if(r["*"].separator){for(var u=RegExp(r["*"].separator||"s"),g=[];;){var p=u.exec(k);if(null===p){g.push(k);break}else g.push(k.substring(0,p.index)),k=k.substring(p.index),g.push(k.substring(0,p[0].length)),k=k.substring(p[0].length)}k=g}else k=k.split("");g=k.slice();u="";p=!1;var w=r["*"].highlight_col,v=r["*"].highlight_over||0,B,J=[],Q=2;w&&k.length>2*v&&(B=l[m[w]]);r["*"].highlight_pos&&B&&(J=B.split(",").map(Number).sort(),Q=1);for(l=0;l<k.length;l+=Q){k[l].length>n&&(k[l]=k[l].substring(0,n-2)+"...",p=!0);if(J.length)for(w=J.length-1;0<=w;w--){if(v=new RegExp("^(.{"+(J[w]-1)+"})(.{1})?(.+)?$"),v=k[l].match(v))k[l]=v[1]+(v[2]?"<b>"+v[2]+"</b>":"")+(v[3]?v[3]:""),g[l]=v[1]+(v[2]?"<b>"+v[2]+"</b>":"")+(v[3]?v[3]:"")}else if(w=k[l]==B)k[l]="<b>"+k[l]+"</b>",g[l]="<b>"+g[l]+
"</b>";u+=k[l];l<k.length-1&&(u+=k[l+1])}return p?(n=g.join(""),'<div class="newtable_toggle"><span class="newtable_toggle_short">'+u+'</span><span class="newtable_toggle_long">'+n+'</span><span class="newtable_toggle_img"/></div>'):g.join("")}}}var O={};a.each(T.colconf,function(I,r){r.decorate&&-1!=a.inArray("toggle",r.decorate)&&(O[I]=[N])});return{decorators:{toggle:O},go_data:function(I){I.find(".newtable_toggle_img").on("click",function(){a(this).closest(".newtable_toggle").toggleClass("open")})}}}})(jQuery);(function(a){a.fn.newtable_diagonal=function(T,L,N,O){function I(y,m,k){return{go:function(l,n){return'<div style="text-align: center">'+l+"</div>"}}}var r={};a.each(T.colconf,function(y,m){m.heading&&m.heading.diagonal&&(r[y]=[I])});return{prio:75,decorate_heading:function(y,m,k,l){l===Y&&(l=k);if(y.heading&&y.heading.diagonal)return y=a("<span/>").html(l).addClass("newtable_diagonal"),m.addClass("newtable_diagonal_th"),a("<div/>").append(y).html();m.addClass("newtable_not_diagonal_th");return l},decorators:{diagonal:r}}}})(jQuery);(function(a){a.fn.newtable_export=function(T,L){return{generate:function(){return'<div><a class="newtable_export" href="#">Export</a><iframe class="newtable_export_iframe"></iframe></div>'},go:function(N,O){a("a",O).on("click",function(I){I=a(".newtable_export_iframe",O);N.trigger("spawn",[{format:"export"},I]);return!1})},position:L.position,position_order:90}}})(jQuery);(function(a){function T(L){for(var N in L)if(L.hasOwnProperty(N))return!1;return!0}a.fn.new_table_filter=function(L,N,O){function I(x,t,F){var z;a.each(O,function(R,K){if(K[t])for(R=0;R<K[t].length;R++)K[t][R].name==x&&(z=K[t][R])});return z?z:null!==F?I(F,t,null):null}function r(x,t,F,z){var R="Filter table rows by "+F+".";""==t&&(t="more",R="Filter by other columns.");x='<li class="t prec_'+(z?"pri":"sec")+'" data-idx="'+x+'"><div class="x"><span></span></div><div class="b"><span class="k _ht">'+F+'</span><span class="v _ht">All</span><div class="m newtable_filtertype_'+t+'" data-filter="'+t+'">'+
F+"</div></div></li>";t=a("<div/>");t.append(a(x)).find(".b ._ht").attr("title",R);return t.html()}function y(x,t,F){var z=t.find(".m");a(".newtable_filter li .m:visible").each(function(){z.length&&z[0]==this||a(this).hide()});t.length&&!F&&(z.is(":visible")?z.hide():(u(x,t,z),w(z)))}function m(x,t){a(".newtable_filter .prec_sec",x).length||x.find(".more").hide()}function k(x){var t=x.closest(".new_table_wrapper");x.hasClass("prec_sec")&&(x.removeClass("prec_sec").addClass("prec_pri"),m(t))}function l(x,t){var F=a("<ul/>");a(".newtable_filter .prec_sec",x).each(function(){var z=a(this);a("<li/>").text(a(".k",z).text()).appendTo(F).on("click",function(R){k(z);y(x,z,!1)})});t.empty().append(F)}function n(x,t,F,z){var R=a("<ul/>").appendTo(x),K=a("<li/>").html("Apply &raquo;").addClass("apply").appendTo(R);z||K.addClass("unchanged");x.closest(".m").on("okable",function(M,P){K.toggleClass("unchanged",P?!1:!0)});K.click(function(){if(!a(this).hasClass("unchanged")){x.closest(".m").hide();var M=F.data("filter-state"),P=t.data("view");P.filter||(P.filter={});var X=F.data("idx");X=L.columns[X];T(M)?delete P.filter[X]:P.filter[X]=M;T(P.filter)&&delete P.filter;t.data("view",P);p(t,F);t.trigger("view-updated")}});a("<li/>").text("Cancel").addClass("cancel").appendTo(R).click(function(){x.closest(".m").hide()})}function u(x,t,F){var z=t.data("idx");if(-1==z)l(x,F);else{z=L.columns[z];var R=(x.data("view").filter||{})[z]||{},K=L.colconf[z].range,M=(x.data("ranges")||{})[z];M||(M=[]);var P=x.data("keymeta").filter;P&&(P=P[z]);K=I(K,"filters","class");var X=a("<div/>");F.empty().append(X);F=a('<div class="head"/>').appendTo(X);var ca=L.colconf[z];ca=ca.filter_label||ca.label||ca.title||z;a('<div class="title"/>').appendTo(F).html(ca);$summary=a('<div class="summary"/>').html("&#x00A0;").appendTo(F);var na=a('<div class="more"/>').text("more rows pending").appendTo($summary);x.on("flux-load",function(ha,ia){na.toggle(ia)});x.trigger("flux-update",["load"]);a(".new_table_loading:visible",x);$stext=a('<div class="summary_text"/>').html("&#x00A0;").appendTo($summary);K.visible(M)?(F=!!t.find(".m:visible").length,ca=t.data("filter-state"),F&&ca!==Y&&(R=ca),K.display(X,t,M,R,P,z,x),z=a('<div class="tail"/>').appendTo(X),n(z,x,t,F)):a("<div/>").addClass("none_present").text("None present").appendTo(X)}}function g(x,t,F){x=x.columns[t.closest("li").data("idx")];F.filter&&F.filter.hasOwnProperty(x)&&delete F.filter[x];T(F.filter)&&delete F.filter}function p(x,t){var F=x.data("view"),z=t.data("idx");if(-1==z)t.addClass("more");else{z=L.columns[z];var R=(x.data("keymeta")||{}).filter;R&&(R=R[z]);var K=(x.data("ranges")||{})[z]||{},M=I(L.colconf[z].range,"filters","class");(F.filter||{}).hasOwnProperty(z)?(F=M.text(F.filter[z],K,R),a(".v",t).text(F),t.addClass("restricted"),k(t)):(a(".v",t).text("All"),t.removeClass("restricted"));F=a(".newtable_filter",x);z=a(".t",F);F.toggle(!!z.length);m(x)}x=a(".m",t);x.length&&x.is(":visible")&&w(x)}function w(x){x.closest(".b").find("._ht:data(ui-tooltip)").helptip("close");x.show();var t=x.offset().left+x.width();t>a("html").width()&&x.css("left",a("html").width()-t-8+"px")}function v(x,t,F,z){a.each(z,function(R,K){a.each(K,function(M,P){M==t&&F.value(x,null,0)})})}function B(x,t,F,z){a.each(z,function(R,K){a.each(K,function(M,P){M==t&&a.each(P,function(X,ca){"*"!=X&&F.value(x,X,0)})})})}function J(x,t,F){x.undo=function(P,X,ca,na){delete P.enumerate;return[P,X]};var z=(t||{}).filter||{};F=(F||{}).filter||{};var R={};a.each(z,function(P,X){R[P]=1});var K=1;a.each(F,function(P,X){R.hasOwnProperty(P)||(K=0)});if(!K)return null;var M=0;a.each(R,function(P,X){(X=L.colconf[P])?(X=a.find_type(O,X))&&X.match?(R[P]=X,M++):K=0:(R[P]=null,M++)});if(!K||!M)return null;a.each(R,function(P,X){for(P=0;P<L.columns.length;P++);});x.undo=function(P,X,ca,na){delete P.enumerate;for(var ha={},ia=0;ia<ca.length;ia++)ha[ca[ia]]=ia;ca=[];for(ia=0;ia<X.length;ia++){var ka=!0;a.each(R,function(wa,ra){if(null!==ra){var sa=X[ia][ha[wa]];sa=null===sa||sa===Y?[sa]:ra.split?ra.split(sa):[sa];for(var xa=!1,H=0;H<sa.length;H++)if(ra.match(z[wa],sa[H])){xa=!0;break}xa||(ka=!1)}});ka&&ca.push(X[ia])}P.filter=z;return[P,ca]};x.all_rows=!0;delete t.filter}var Q={};return{generate:function(){var x="",t=[];a.each(L.columns,function(F,z){var R=t.push,K=L.colconf[z].primary;var M=L.colconf[z];if(M.range){var P=M.filter_label||M.label||z;M.range?(Q[z]=M,z=r(F,M.range,P,M.primary)):z=""}else z="";R.call(t,[K,F,z])});t.sort(function(F,z){return F[0]?z[0]?F[0]-z[0]:-1:z[0]?1:F[1]-z[1]});a.each(t,function(F,z){x+=z[2]});x+=r(-1,"","Filter Other Columns",!0);return'<div class="newtable_filter"><span class="intro">Filter</span><ul>'+
x+"</ul></div>"},position:N.position,go:function(x,t){a("li.t",t).on("update",function(F,z){a(this).data("filter-state",z);a(this).find(".apply").removeClass("unchanged")});x.on("range-updated",function(F){a("li.t",t).each(function(){var z=a(this);p(x,z);var R=a(".m",z);R.is(":visible")&&(u(x,z,R),w(R))})});a(".x",t).on("click",function(F){var z=x.data("view");g(L,a(this),z);x.data("view",z);x.trigger("view-updated");z=a(this).closest("li");p(x,z);a(".newtable_filter li .m:visible",t).each(function(){a(this).hide()});F.stopPropagation()});a("li.t",t).each(function(){p(x,a(this))});a("html").on("click",function(F){if(x.closest("html").length){var z=a(F.target).closest(".newtable_filter li.t");F=a(F.target).closest(".newtable_filter li.t .m");y(x,z,!!F.length)}});a(".b ._ht",t).helptip()},pipe:function(){return[function(x,t){var F=[],z={};a.each(Q,function(K,M){(M=a.find_type(O,M))?z[K]=M:F.push(K)});F.length?x.enumerate=F:delete x.enumerate;var R={eundo:function(K,M,P,X){for(var ca=0;ca<P.length;ca++){var na=z[P[ca]],ha=Y;X&&X.enumerate&&X.enumerate[P[ca]]&&(ha=X.enumerate[P[ca]]["*"]);if(na){var ia={};ha&&(ha.from_keymeta&&B(ia,P[ca],na,X),ha.merge&&(ia=na.merge(ia,ha.merge)));ha=Y;X&&X.filter&&X.filter[P[ca]]&&(ha=X.filter[P[ca]]["*"]);ha&&ha.maybe_blank&&v(ia,P[ca],na,X);for(ha=0;ha<M.length;ha++){var ka=M[ha][ca];if(ka!==Y&&(ka=na.split&&null!==ka?na.split(ka):[ka],ka!==Y&&null!==ka))for(var wa=0;wa<ka.length;wa++)na.value(ia,ka[wa],1)}na.finish&&(ia=na.finish(ia,P[ca],X));K[P[ca]]=ia}else ha&&ha.merge&&(K[P[ca]]=ha.merge)}return K}};T(x.filter)&&delete x.filter;J(R,x,t);return R}]}}}})(jQuery);(function(a){function T(m,k,l){var n=0,u=0;a.each(l,function(g,p){u++;k[p]||n++});m.text("("+n+"/"+u+" on)");m.closest(".m").trigger("okable",[n?!0:!1])}function L(m,k,l,n,u,g){for(var p=!0,w=0;w<k.length;w++)if(!n[k[w]]!=!!l[k[w]]){p=!1;break}m.find(".bakery li").each(function(){var v=a(this);v.data(u)==g&&v.toggleClass("disabled",p)})}function N(m,k,l,n){var u={};a.each(l||{},function(v,B){if("*"!=v&&B.baked)for(var J=0;J<B.baked.length;J++)u[B.baked[J]]||(u[B.baked[J]]={}),u[B.baked[J]][v]=1});var g=((l||{})["*"]||{}).bakery||[];for(l=0;l<g.length;l++){var p=g[l].key,w=u[p];w&&L(m,n,w,k,"bake",p)}g={};for(l=0;l<n.length;l++)g[n[l]]=1;L(m,n,[],k,"all","off");L(m,n,g,k,"all","on")}function O(m,k,l,n,u,g,p){var w={};k.children("ul").children("li").each(function(){var v=a(this),B=v.data("key"),J=((u||{})[B]||{}).baked||[],Q=!1;if("bakery"==l)for(var x=0;x<J.length;x++)J[x]==n&&(Q=!0);else"all"==l?(!0===n&&(Q=!0),!1===n&&(Q=!1)):(Q=v.hasClass("on"),B==n&&(Q=!Q));Q?v.addClass("on"):(w[B]=1,v.removeClass("on"))});m.trigger("update",w);T(g,w,p);N(m,w,u,p)}function I(m,k){m.attr("title",k).addClass("_ht").helptip()}function r(m,k,l,n,u,g,p){g=[];var w=a("<li/>").text("Turn All Off").data("all","off");I(w,"Turn off all types below");g.push(w);w.click(function(){O(l,k,"all",!1,p,n,u)});var v=((p||{})["*"]||{}).bakery||[];for(w=0;w<v.length;w++){var B=a("<li/>").text(v[w].label).data("bake",v[w].key);I(B,v[w].helptip);g.push(B);(function(J){B.click(function(){O(l,k,"bakery",v[J].key,p,n,u)})})(w)}w=a("<li/>").addClass("allon").text("Turn All On").data("all","on");I(w,"Turn on all types below");g.push(w);w.click(function(){O(l,k,"all",!0,p,n,u)});m=a("<ul/>").addClass("bakery").appendTo(m);g[0].addClass("first");g[g.length-1].addClass("last");2<g.length&&g[g.length-1].addClass("last_of_many");for(w=0;w<g.length;w++)m.append(g[w])}function y(m,k){k=((k||{})["*"]||{}).bakefoot||[];if(k.length){m=a("<ul/>").appendTo(m);for(var l=0;l<k.length;l++)a("<li/>").appendTo(m).html(k[l])}}a.fn.newtable_filter_class=function(m,k){return{filters:[{name:"class",display:function(l,n,u,g,p,w,v){var B=m.colconf[w],J=a(".summary_text",l).text("(x/y on)"),Q=a('<div class="baked"/>').appendTo(l),x=a('<div class="bakefoot"/>').appendTo(l),t=a('<div class="body"/>').appendTo(l),F=u.counts,z=u.keys.slice();r(Q,t,n,J,z,w,p);y(x,p);B.filter_sorted||z.sort(function(M,P){return M.localeCompare(P)});var R,K=[0];4<z.length&&(K=[0,z.length/
3,2*z.length/3],t.addClass("use_cols"));l=z.indexOf("");-1!==l&&(z.splice(l,1),z.push(""));a.each(z,function(M,P){M>=K[0]&&(R=a("<ul/>").appendTo(t),K.shift());M=a("<li/>").data("key",P).appendTo(R);var X=F[P];a("<div/>").text("("+X+")").addClass("more").appendTo(M);X=a("<div/>").addClass("main").appendTo(M);v.trigger("paint-individual",[X,w,P]);M.data("val",P);g[P]||M.addClass("on");M.on("click",function(){O(n,t,"one",P,p,J,z)})});T(J,g,z);N(n,g,p,z)},text:function(l,n){var u={};a.each(l,function(w,v){u[w]=1});var g=[],p=[];a.each(n.keys||[],function(w,v){w=""===v?"blank":v;u[v]?p.push(w):g.push(w)});l="None";g.length<=p.length?l=g.join(", "):g.length&&(l="All except "+p.join(", "));20<l.length&&(l=l.substr(0,20)+"...("+g.length+"/"+n.keys.length+")");return l},visible:function(l){return l&&l.keys&&!!l.keys.length}}]}}})(jQuery);(function(a){function T(m,k,l,n){var u=a(".slider",m);u.rangeslider("get");var g=m.data("position");g.min=k;g.max=l;n||(u=a(".slider",m),m=u.rangeslider("options").fixed,u=u.rangeslider("get_limits"),g.imp_nulls=!1,m&&k==u[0]&&l==u[1]&&(g.imp_nulls=!0),m||null!==k||null!==l||(g.imp_nulls=!0))}function L(m,k){var l=m.data("position"),n=null===l.min,u=null===l.max,g=a(".slider_feedback",m);m=k.summary_prefix(m);g.text(m+(n?"Min":k.round_out(l.min))+" - "+m+(u?"Max":k.round_out(l.max)))}function N(m){var k=a(".slider_unspecified input",m);m=m.data("position");var l=m.exp_nulls;null==l&&(l=m.imp_nulls);k.length&&(l?k.prop("checked",!0):k.prop("checked",!1))}function O(m,k){var l=k.data("position"),n={};n.no_nulls=l.exp_nulls!==Y&&null!==l.exp_nulls?!l.exp_nulls:!l.imp_nulls;m.additional_update(n,k);var u=a(".slider",k);u.rangeslider("options").fixed&&(u=u.rangeslider("get_limits"),n.min==u[0]&&(n.min=null),n.max==u[1]&&(n.max=null));n.min=m.round_out(l.min);n.max=m.round_out(l.max);n.no_nulls||delete n.no_nulls;null===n.min&&delete n.min;null===n.max&&delete n.max;k.trigger("update",n)}function I(m,k,l,n,u,g,p){n*=1;u*=1;return a("<div/>").appendTo(k).rangeslider({min:n,max:u,fixed:g&&g["*"]&&g["*"].fixed,integer:g&&g["*"]&&g["*"].integer,soggy:g&&g["*"]&&g["*"].logarithmic,slide:function(w,v){T(l,w,v,!0);L(l,m);N(l)},stop:function(w,v){T(l,w,v,!1);L(l,m);N(l);O(m,l)}})}function r(m,k,l,n,u,g){var p=a("<div/>").addClass("newtable_range");a("<div/>").addClass("slider_feedback").appendTo(p);var w=a("<div/>").addClass("slider_main").appendTo(p);if(u&&u["*"]){var v=u["*"].endpoint_left,B=u["*"].endpoint_right;u["*"].slider_class&&w.addClass(u["*"].slider_class)}v||(v="");B||(B="");v&&a("<div/>").addClass("slider_left").html(v).appendTo(w);I(m,w,k,l,n,u,g);B&&a("<div/>").addClass("slider_right").html(B).appendTo(w);u&&u["*"]&&u["*"].blank_button&&(l=a("<div/>").addClass("slider_unspecified"),l.append("<span>include blank</span>"),n=a('<input type="checkbox"/>').appendTo(l),l.appendTo(p),n.on("click",function(){var J=a(".slider_unspecified input",k);k.data("position").exp_nulls=J.prop("checked");O(m,k)}).prop("checked",!0));return p}var y={position:{summary_prefix:function(m){return m.data("slider-chr")+
":"},additional_update:function(m,k){m.chr=k.data("slider-chr")},preproc_values:function(m){var k=null;a.each(m,function(l,n){n.best&&(k=n)});return k},text_prefix:function(m){return m.chr+":"},draw_additional:function(m,k){m.data("slider-chr",k.chr)},round_out:function(m){return m}},range:{summary_prefix:function(m){return""},additional_update:function(m,k){},preproc_values:function(m){return m},text_prefix:function(m){return""},draw_additional:function(m,k){},round_out:function(m){m=a.isNumeric(m)?parseFloat(m.toPrecision(2)):m;return m}}};a.fn.newtable_filter_range=function(m,k){var l=[];a.each(y,function(n,u){l.push({name:n,display:function(g,p,w,v,B){w=u.preproc_values(w);a(".slider",g);B=r(u,p,w.min,w.max,B,w);p.data("position",{min:null,max:null,nulls:!0,imp_nulls:!0,exp_nulls:null});u.draw_additional(p,w);g.append(B);a(".slider",B);g=v.min;v=v.max;B=a(".slider",p);w=B.rangeslider("options").fixed;B=B.rangeslider("get_limits");g===Y&&(g=w?B[0]:null);v===Y&&(v=w?B[1]:null);w=p.data("position");w.min=g;w.max=v;g=a(".slider",p);v=p.data("position");g.rangeslider("set",v.min,v.max);L(p,u);N(p)},text:function(g,p,w){w=w&&w["*"]&&w["*"].fixed;var v=g.hasOwnProperty("min"),B=g.hasOwnProperty("max");if(!v&&!B||w&&g.min==p.min&&g.max==p.max)return g.no_nulls?"All except blank":"All";p=u.text_prefix(g)+(v?g.min:"Min")+" - "+u.text_prefix(g)+(B?g.max:"Max");g.no_nulls||(p+=" or blank");return p},visible:function(g){return g?(g=u.preproc_values(g))&&g.hasOwnProperty("min"):!1}})});return{filters:l}}})(jQuery);(function(a){a.fn.newtable_frame_default=function(T,L){return{frame:function(N){for(var O=a('<div class="new_table_wrapper"/>'),I=a('<div class="new_table_top"/>').appendTo(O),r=[],y=0;3>y;y++)r[y]=a('<div class="new_table_section new_table_section_'+y+'"/>'),r[y].appendTo(I);I=a("<div/>").appendTo(O);y=a('<div class="before"/>');var m=a('<div class="newtable_controller"/>');O.prepend(m).prepend(y).append(N);return{$:O,before:{tags:["before"],$:y},controller:{tags:["controller","pre"],$:m},topper:{tags:["full","inner","full-inner","top-full-inner"],$:I},nw:{tags:["top","left","top-left"],$:r[0]},n:{tags:["top","middle","top-middle"],$:r[1]},ne:{tags:["top","right","top-right"],$:r[2]}}}}}})(jQuery);(function(a){a.fn.newtable_helptip=function(T,L){return{go_data:function(N){a("._tht",N).on("mouseenter",function(){a(this).addClass("_ht").removeClass("_tht").helptip().helptip("open")})}}}})(jQuery);(function(a){a.fn.newtable_helptip_header=function(T,L,N,O){return{prio:50,decorate_heading:function(I,r,y,m){m===Y&&(m=y);I.help&&(I=a('<span class="ht _ht"/>').attr("title",I.help).html(m),m=a("<div/>").append(I).html());return m}}}})(jQuery);(function(){function a(c){throw c;}function T(c,b){c=c.split(".");var f=x;c[0]in f||!f.execScript||f.execScript("var "+c[0]);for(var h;c.length&&(h=c.shift());)c.length||void 0===b?f=f[h]?f[h]:f[h]={}:f[h]=b}function L(c,b){this.index="number"===typeof b?b:0;this.i=0;this.buffer=c instanceof(t?Uint8Array:Array)?c:new(t?Uint8Array:Array)(32768);2*this.buffer.length<=this.index&&a(Error("invalid index"));this.buffer.length<=this.index&&this.f()}function N(c){this.buffer=new(t?Uint16Array:Array)(2*c);this.length=0}function O(c){var b=c.length,f=0,h=Number.POSITIVE_INFINITY,d,q,G;for(q=0;q<b;++q)c[q]>f&&(f=c[q]),c[q]<h&&(h=c[q]);var U=1<<f;var ea=new(t?Uint32Array:Array)(U);var Z=1;var da=0;for(d=2;Z<=f;){for(q=0;q<b;++q)if(c[q]===Z){var fa=0;var S=da;for(G=0;G<Z;++G)fa=fa<<1|S&1,S>>=1;S=Z<<16|q;for(G=fa;G<U;G+=d)ea[G]=S;++da}++Z;da<<=1;d<<=1}return[ea,f,h]}function I(c,b){this.h=X;this.w=0;this.input=t&&c instanceof Array?new Uint8Array(c):c;this.b=0;b&&(b.lazy&&(this.w=b.lazy),"number"===typeof b.compressionType&&(this.h=b.compressionType),b.outputBuffer&&(this.a=t&&b.outputBuffer instanceof Array?new Uint8Array(b.outputBuffer):b.outputBuffer),"number"===typeof b.outputIndex&&(this.b=b.outputIndex));this.a||(this.a=new(t?Uint8Array:Array)(32768))}function r(c,b){this.length=c;this.H=b}function y(c,b){function f(ta,ua){var V=ta.H,oa=[],ya=0;var za=na[ta.length];oa[ya++]=za&65535;oa[ya++]=za>>16&255;oa[ya++]=za>>24;switch(!0){case 1===V:var ja=[0,V-1,0];break;case 2===V:ja=[1,V-2,0];break;case 3===V:ja=[2,V-3,0];break;case 4===V:ja=[3,V-4,0];break;case 6>=V:ja=[4,V-5,1];break;case 8>=V:ja=[5,V-7,1];break;case 12>=V:ja=[6,V-9,2];break;case 16>=V:ja=[7,V-13,2];break;case 24>=V:ja=[8,V-17,3];break;case 32>=V:ja=[9,V-25,3];break;case 48>=V:ja=[10,V-33,4];break;case 64>=V:ja=[11,V-49,4];break;case 96>=V:ja=[12,V-65,5];break;case 128>=V:ja=[13,V-97,5];break;case 192>=V:ja=[14,V-129,6];break;case 256>=V:ja=[15,V-193,6];break;case 384>=V:ja=[16,V-257,7];break;case 512>=V:ja=[17,V-385,7];break;case 768>=V:ja=[18,V-513,8];break;case 1024>=V:ja=[19,V-769,8];break;case 1536>=V:ja=[20,V-1025,9];break;case 2048>=V:ja=[21,V-1537,9];break;case 3072>=V:ja=[22,V-2049,10];break;case 4096>=V:ja=[23,V-3073,10];break;case 6144>=V:ja=[24,V-4097,11];break;case 8192>=V:ja=[25,V-6145,11];break;case 12288>=V:ja=[26,V-8193,12];break;case 16384>=V:ja=[27,V-12289,12];break;case 24576>=V:ja=[28,V-16385,13];break;case 32768>=V:ja=[29,V-24577,13];break;default:a("invalid distance")}za=ja;oa[ya++]=za[0];oa[ya++]=za[1];oa[ya++]=za[2];V=0;for(ya=oa.length;V<ya;++V)da[fa++]=oa[V];la[oa[0]]++;va[oa[3]]++;S=ta.length+ua-1;Z=null}var h,d,q,G,U={},ea,Z,da=t?new Uint16Array(2*b.length):[],fa=0,S=0,la=new(t?Uint32Array:Array)(286),va=new(t?Uint32Array:Array)(30),ma=c.w;if(!t){for(d=0;285>=d;)la[d++]=0;for(d=0;29>=d;)va[d++]=0}la[256]=1;var qa=0;for(h=b.length;qa<h;++qa){d=G=0;for(q=3;d<q&&qa+d!==h;++d)G=G<<8|b[qa+d];void 0===U[G]&&(U[G]=[]);d=U[G];if(!(0<S--)){for(;0<d.length&&32768<qa-d[0];)d.shift();if(qa+3>=h){Z&&f(Z,-1);d=0;for(q=h-qa;d<q;++d){var pa=b[qa+d];da[fa++]=pa;++la[pa]}break}0<d.length?(ea=m(b,qa,d),Z?Z.length<ea.length?(pa=b[qa-1],da[fa++]=pa,++la[pa],f(ea,0)):f(Z,-1):ea.length<ma?Z=ea:f(ea,0)):Z?f(Z,-1):(pa=b[qa],da[fa++]=pa,++la[pa])}d.push(qa)}da[fa++]=256;la[256]++;c.M=la;c.L=va;return t?da.subarray(0,fa):da}function m(c,b,f){var h,d=0,q=c.length;var G=0;var U=f.length;a:for(;G<U;G++){var ea=f[U-G-1];var Z=3;if(3<d){for(Z=d;3<Z;Z--)if(c[ea+Z-1]!==c[b+Z-1])continue a;Z=d}for(;258>Z&&b+Z<q&&c[ea+Z]===c[b+Z];)++Z;Z>d&&(h=ea,d=Z);if(258===Z)break}return new r(d,b-h)}function k(c,b){var f=c.length,h=new N(572),d=new(t?Uint8Array:Array)(f),q;if(!t)for(q=0;q<f;q++)d[q]=0;for(q=0;q<f;++q)0<c[q]&&h.push(q,c[q]);c=Array(h.length/2);var G=new(t?Uint32Array:Array)(h.length/2);if(1===c.length)return d[h.pop().index]=1,d;q=0;for(f=h.length/2;q<f;++q)c[q]=h.pop(),G[q]=c[q].value;b=l(G,G.length,b);q=0;for(f=c.length;q<f;++q)d[c[q].index]=b[q];return d}function l(c,b,f){function h(va){var ma=ea[va][Z[va]];ma===b?(h(va+1),h(va+1)):--G[ma];++Z[va]}var d=new(t?Uint16Array:Array)(f),q=new(t?Uint8Array:Array)(f),G=new(t?Uint8Array:Array)(b),U=Array(f),ea=Array(f),Z=Array(f),da=(1<<f)-b,fa=1<<f-1,S;d[f-1]=b;for(S=0;S<f;++S)da<fa?q[S]=0:(q[S]=1,da-=fa),da<<=1,d[f-2-S]=(d[f-1-S]/2|0)+b;d[0]=q[0];U[0]=Array(d[0]);ea[0]=Array(d[0]);for(S=1;S<f;++S)d[S]>2*d[S-1]+q[S]&&(d[S]=2*d[S-
1]+q[S]),U[S]=Array(d[S]),ea[S]=Array(d[S]);for(da=0;da<b;++da)G[da]=f;for(fa=0;fa<d[f-1];++fa)U[f-1][fa]=c[fa],ea[f-1][fa]=fa;for(da=0;da<f;++da)Z[da]=0;1===q[f-1]&&(--G[0],++Z[f-1]);for(S=f-2;0<=S;--S){f=da=0;var la=Z[S+1];for(fa=0;fa<d[S];fa++)f=U[S+1][la]+U[S+1][la+1],f>c[da]?(U[S][fa]=f,ea[S][fa]=b,la+=2):(U[S][fa]=c[da],ea[S][fa]=da,++da);Z[S]=0;1===q[S]&&h(S)}return G}function n(c){var b=new(t?Uint16Array:Array)(c.length),f=[],h=[],d=0,q,G;var U=0;for(q=c.length;U<q;U++)f[c[U]]=(f[c[U]]|0)+
1;U=1;for(q=16;U<=q;U++)h[U]=d,d+=f[U]|0,d<<=1;U=0;for(q=c.length;U<q;U++)for(d=h[c[U]],h[c[U]]+=1,f=b[U]=0,G=c[U];f<G;f++)b[U]=b[U]<<1|d&1,d>>>=1;return b}function u(c,b){this.l=[];this.m=32768;this.e=this.g=this.c=this.q=0;this.input=t?new Uint8Array(c):c;this.s=!1;this.n=ia;this.C=!1;if(b||!(b={}))b.index&&(this.c=b.index),b.bufferSize&&(this.m=b.bufferSize),b.bufferType&&(this.n=b.bufferType),b.resize&&(this.C=b.resize);switch(this.n){case ha:this.b=32768;this.a=new(t?Uint8Array:Array)(32768+
this.m+258);break;case ia:this.b=0;this.a=new(t?Uint8Array:Array)(this.m);this.f=this.K;this.t=this.I;this.o=this.J;break;default:a(Error("invalid inflate mode"))}}function g(c,b){for(var f=c.g,h=c.e,d=c.input,q=c.c,G=d.length;h<b;)q>=G&&a(Error("input buffer is broken")),f|=d[q++]<<h,h+=8;c.g=f>>>b;c.e=h-b;c.c=q;return f&(1<<b)-1}function p(c,b){var f=c.g,h=c.e,d=c.input,q=c.c,G=d.length,U=b[0];for(b=b[1];h<b&&!(q>=G);)f|=d[q++]<<h,h+=8;d=U[f&(1<<b)-1];G=d>>>16;c.g=f>>G;c.e=h-G;c.c=q;return d&65535}
function w(c){function b(U,ea,Z){var da,fa=this.z,S,la;for(la=0;la<U;)switch(da=p(this,ea),da){case 16:for(S=3+g(this,2);S--;)Z[la++]=fa;break;case 17:for(S=3+g(this,3);S--;)Z[la++]=0;fa=0;break;case 18:for(S=11+g(this,7);S--;)Z[la++]=0;fa=0;break;default:fa=Z[la++]=da}this.z=fa;return Z}var f=g(c,5)+257,h=g(c,5)+1,d=g(c,4)+4,q=new(t?Uint8Array:Array)(ka.length),G;for(G=0;G<d;++G)q[ka[G]]=g(c,3);if(!t)for(G=d,d=q.length;G<d;++G)q[ka[G]]=0;d=O(q);q=new(t?Uint8Array:Array)(f);G=new(t?Uint8Array:Array)(h);c.z=0;c.o(O(b.call(c,f,d,q)),O(b.call(c,h,d,G)))}function v(c){if("string"===typeof c){c=c.split("");var b;var f=0;for(b=c.length;f<b;f++)c[f]=(c[f].charCodeAt(0)&255)>>>0}f=1;b=0;for(var h=c.length,d,q=0;0<h;){d=1024<h?1024:h;h-=d;do f+=c[q++],b+=f;while(--d);f%=65521;b%=65521}return(b<<16|f)>>>0}function B(c,b){this.input=c;this.c=0;if(b||!(b={}))b.index&&(this.c=b.index),b.verify&&(this.N=b.verify);var f=c[this.c++];var h=c[this.c++];switch(f&15){case C:this.method=C;break;default:a(Error("unsupported compression method"))}0!==((f<<8)+h)%31&&a(Error("invalid fcheck flag:"+((f<<8)+h)%31));h&32&&a(Error("fdict flag is not supported"));this.B=new u(c,{index:this.c,bufferSize:b.bufferSize,bufferType:b.bufferType,resize:b.resize})}function J(c,b){this.input=c;this.a=new(t?Uint8Array:Array)(32768);this.h=E.k;c={};var f;!b&&(b={})||"number"!==typeof b.compressionType||(this.h=b.compressionType);for(f in b)c[f]=b[f];c.outputBuffer=this.a;this.A=new I(this.input,c)}function Q(c,b){var f,h;if(Object.keys)var d=Object.keys(b);else for(q in d=[],f=0,b)d[f++]=q;f=0;for(h=d.length;f<h;++f){var q=d[f];T(c+"."+q,b[q])}}var x=this,t="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;L.prototype.f=function(){var c=this.buffer,b,f=c.length,h=new(t?Uint8Array:Array)(f<<1);if(t)h.set(c);else for(b=0;b<f;++b)h[b]=c[b];return this.buffer=h};L.prototype.d=function(c,b,f){var h=this.buffer,d=this.index,q=this.i,G=h[d];f&&1<b&&(c=8<b?(P[c&255]<<24|P[c>>>8&255]<<16|P[c>>>16&255]<<8|P[c>>>24&255])>>32-b:P[c]>>8-b);if(8>b+q)G=G<<b|c,q+=b;else for(f=0;f<b;++f)G=G<<1|c>>b-f-1&1,8===++q&&(q=0,h[d++]=P[G],G=0,d===h.length&&(h=this.f()));h[d]=G;this.buffer=h;this.i=q;this.index=d};L.prototype.finish=function(){var c=this.buffer,b=this.index,f;0<this.i&&(c[b]<<=8-this.i,c[b]=P[c[b]],b++);t?f=c.subarray(0,b):(c.length=b,f=c);return f};var F=new(t?Uint8Array:Array)(256),z;for(z=0;256>z;++z){var R=z,K=R,M=7;for(R>>>=1;R;R>>>=1)K<<=1,K|=R&1,--M;F[z]=(K<<M&255)>>>0}var P=F;N.prototype.getParent=function(c){return 2*((c-2)/4|0)};N.prototype.push=function(c,b){var f,h=this.buffer;var d=this.length;h[this.length++]=b;for(h[this.length++]=c;0<d;)if(f=this.getParent(d),h[d]>h[f])c=h[d],h[d]=h[f],h[f]=c,c=h[d+1],h[d+1]=h[f+1],h[f+1]=c,d=f;else break;return this.length};N.prototype.pop=function(){var c=this.buffer,b;var f=c[0];var h=c[1];this.length-=2;c[0]=c[this.length];c[1]=c[this.length+1];for(b=0;;){var d=2*b+2;if(d>=this.length)break;d+2<this.length&&c[d+2]>c[d]&&(d+=2);if(c[d]>c[b]){var q=c[b];c[b]=c[d];c[d]=q;q=c[b+1];c[b+1]=c[d+1];c[d+1]=q}else break;b=d}return{index:h,value:f,length:this.length}};var X=2;F={NONE:0,r:1,k:X,O:3};var ca=[];for(z=0;288>z;z++)switch(!0){case 143>=z:ca.push([z+48,8]);break;case 255>=z:ca.push([z-144+400,9]);break;case 279>=z:ca.push([z-256,7]);break;case 287>=z:ca.push([z-280+192,8]);break;default:a("invalid literal: "+z)}I.prototype.j=function(){var c,b=this.input;switch(this.h){case 0:var f=0;for(c=b.length;f<c;){var h=t?b.subarray(f,f+65535):b.slice(f,f+65535);f+=h.length;var d=f===c,q=this.a,G=this.b;if(t){for(q=new Uint8Array(this.a.buffer);q.length<=G+h.length+5;)q=new Uint8Array(q.length<<1);q.set(this.a)}d=d?1:0;q[G++]=d|0;d=h.length;var U=~d+65536&65535;q[G++]=d&255;q[G++]=d>>>8&255;q[G++]=U&255;q[G++]=U>>>8&255;if(t)q.set(h,G),G+=h.length,q=q.subarray(0,G);else{d=0;for(U=h.length;d<U;++d)q[G++]=h[d];q.length=G}this.b=G;this.a=q}break;case 1:f=new L(t?new Uint8Array(this.a.buffer):this.a,this.b);f.d(1,1,!0);f.d(1,2,!0);b=y(this,b);h=0;for(q=b.length;h<q;h++)if(c=b[h],L.prototype.d.apply(f,ca[c]),256<c)f.d(b[++h],b[++h],!0),f.d(b[++h],5),f.d(b[++h],b[++h],!0);else if(256===c)break;this.a=f.finish();this.b=this.a.length;break;case X:c=new L(t?new Uint8Array(this.a.buffer):this.a,this.b);var ea,Z,da,fa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];U=Array(19);var S;G=X;c.d(1,1,!0);c.d(G,2,!0);b=y(this,b);var la=k(this.M,15);var va=n(la);G=k(this.L,7);d=n(G);for(ea=286;257<ea&&0===la[ea-1];ea--);for(Z=30;1<Z&&0===G[Z-1];Z--);var ma=ea,qa=Z;var pa=new(t?Uint32Array:Array)(ma+qa);var ta=new(t?Uint32Array:Array)(316),ua;var V=new(t?Uint8Array:Array)(19);for(S=da=0;S<ma;S++)pa[da++]=la[S];for(S=0;S<qa;S++)pa[da++]=G[S];if(!t)for(S=0,qa=V.length;S<qa;++S)V[S]=0;S=ua=0;for(qa=pa.length;S<qa;S+=da){for(da=1;S+da<qa&&pa[S+da]===pa[S];++da);ma=da;if(0===pa[S])if(3>ma)for(;0<ma--;)ta[ua++]=0,V[0]++;else for(;0<ma;){var oa=138>ma?ma:138;oa>ma-3&&oa<ma&&(oa=ma-3);10>=oa?(ta[ua++]=17,ta[ua++]=oa-3,V[17]++):(ta[ua++]=18,ta[ua++]=oa-11,V[18]++);ma-=oa}else if(ta[ua++]=pa[S],V[pa[S]]++,ma--,3>ma)for(;0<ma--;)ta[ua++]=pa[S],V[pa[S]]++;else for(;0<ma;)oa=6>ma?ma:6,oa>ma-3&&oa<ma&&(oa=ma-3),ta[ua++]=16,ta[ua++]=oa-3,V[16]++,ma-=oa}pa=t?ta.subarray(0,ua):ta.slice(0,ua);V=k(V,7);for(S=0;19>S;S++)U[S]=V[fa[S]];for(da=19;4<da&&0===U[da-1];da--);fa=n(V);c.d(ea-257,5,!0);c.d(Z-1,5,!0);c.d(da-4,4,!0);for(S=0;S<da;S++)c.d(U[S],3,!0);S=0;for(U=pa.length;S<U;S++)if(h=pa[S],c.d(fa[h],V[h],!0),16<=h){S++;switch(h){case 16:q=2;break;case 17:q=3;break;case 18:q=7;break;default:a("invalid code: "+h)}c.d(pa[S],q,!0)}q=[va,la];d=[d,G];h=q[0];q=q[1];G=d[0];va=d[1];d=0;for(U=b.length;d<U;++d)if(f=b[d],c.d(h[f],q[f],!0),256<f)c.d(b[++d],b[++d],!0),la=b[++d],c.d(G[la],va[la],!0),c.d(b[++d],b[++d],!0);else if(256===f)break;this.a=c.finish();this.b=this.a.length;break;default:a("invalid compression type")}return this.a};z=function(){function c(d){switch(!0){case 3===d:return[257,d-3,0];case 4===d:return[258,d-4,0];case 5===d:return[259,d-5,0];case 6===d:return[260,d-6,0];case 7===d:return[261,d-7,0];case 8===d:return[262,d-8,0];case 9===d:return[263,d-9,0];case 10===d:return[264,d-10,0];case 12>=d:return[265,d-11,1];case 14>=d:return[266,d-13,1];case 16>=d:return[267,d-15,1];case 18>=d:return[268,d-17,1];case 22>=d:return[269,d-19,2];case 26>=d:return[270,d-23,2];case 30>=d:return[271,d-27,2];case 34>=d:return[272,d-31,2];case 42>=d:return[273,d-35,3];case 50>=d:return[274,d-43,3];case 58>=d:return[275,d-51,3];case 66>=d:return[276,d-59,3];case 82>=d:return[277,d-67,4];case 98>=d:return[278,d-83,4];case 114>=d:return[279,d-99,4];case 130>=d:return[280,d-115,4];case 162>=d:return[281,d-131,5];case 194>=d:return[282,d-163,5];case 226>=d:return[283,d-195,5];case 257>=d:return[284,d-227,5];case 258===d:return[285,d-258,0];default:a("invalid length: "+d)}}var b=[],f;for(f=3;258>=f;f++){var h=c(f);b[f]=h[2]<<24|h[1]<<16|h[0]}return b}();var na=t?new Uint32Array(z):z,ha=0,ia=1;z=ha;R=ia;u.prototype.p=function(){for(;!this.s;){var c=g(this,3);c&1&&(this.s=!0);c>>>=1;switch(c){case 0:c=this.input;var b=this.c,f=this.a,h=this.b,d=c.length,q=f.length;this.e=this.g=0;b+1>=d&&a(Error("invalid uncompressed block header: LEN"));var G=c[b++]|c[b++]<<8;b+1>=d&&a(Error("invalid uncompressed block header: NLEN"));d=c[b++]|c[b++]<<8;G===~d&&a(Error("invalid uncompressed block header: length verify"));b+G>c.length&&a(Error("input buffer is broken"));switch(this.n){case ha:for(;h+G>f.length;){d=q-h;G-=d;if(t)f.set(c.subarray(b,b+d),h),h+=d,b+=d;else for(;d--;)f[h++]=c[b++];this.b=h;f=this.f();h=this.b}break;case ia:for(;h+G>f.length;)f=this.f({v:2});break;default:a(Error("invalid inflate mode"))}if(t)f.set(c.subarray(b,b+G),h),h+=G,b+=G;else for(;G--;)f[h++]=c[b++];this.c=b;this.b=h;this.a=f;break;case 1:this.o(A,D);break;case 2:w(this);break;default:a(Error("unknown BTYPE: "+c))}}return this.t()};K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var ka=t?new Uint16Array(K):K;K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];var wa=t?new Uint16Array(K):K;K=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];var ra=t?new Uint8Array(K):K;K=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];var sa=t?new Uint16Array(K):K;K=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var xa=t?new Uint8Array(K):K;K=new(t?Uint8Array:Array)(288);var H;M=0;for(H=K.length;M<H;++M)K[M]=143>=M?8:255>=M?9:279>=M?7:8;var A=O(K);K=new(t?Uint8Array:Array)(30);M=0;for(H=K.length;M<H;++M)K[M]=5;var D=O(K);u.prototype.o=function(c,b){var f=this.a,h=this.b;this.u=c;for(var d=f.length-258,q,G,U;256!==(q=p(this,c));)if(256>q)h>=d&&(this.b=h,f=this.f(),h=this.b),f[h++]=q;else for(q-=257,U=wa[q],0<ra[q]&&(U+=g(this,ra[q])),q=p(this,b),G=sa[q],0<xa[q]&&(G+=g(this,xa[q])),h>=d&&(this.b=h,f=this.f(),h=this.b);U--;)f[h]=f[h++-G];for(;8<=this.e;)this.e-=8,this.c--;this.b=h};u.prototype.J=function(c,b){var f=this.a,h=this.b;this.u=c;for(var d=f.length,q,G,U;256!==(q=p(this,c));)if(256>q)h>=d&&(f=this.f(),d=f.length),f[h++]=q;else for(q-=257,U=wa[q],0<ra[q]&&(U+=g(this,ra[q])),q=p(this,b),G=sa[q],0<xa[q]&&(G+=g(this,xa[q])),h+U>d&&(f=this.f(),d=f.length);U--;)f[h]=f[h++-G];for(;8<=this.e;)this.e-=8,this.c--;this.b=h};u.prototype.f=function(){var c=new(t?Uint8Array:Array)(this.b-32768),b=this.b-32768,f,h=this.a;if(t)c.set(h.subarray(32768,c.length));else{var d=0;for(f=c.length;d<f;++d)c[d]=h[d+32768]}this.l.push(c);this.q+=c.length;if(t)h.set(h.subarray(b,b+32768));else for(d=0;32768>d;++d)h[d]=h[b+d];this.b=32768;return h};u.prototype.K=function(c){var b,f=this.input.length/this.c+1|0,h,d,q,G=this.input,U=this.a;c&&("number"===typeof c.v&&(f=c.v),"number"===typeof c.G&&(f+=c.G));2>f?(h=(G.length-this.c)/this.u[2],q=h/2*258|0,d=q<U.length?U.length+q:U.length<<1):d=U.length*f;t?(b=new Uint8Array(d),b.set(U)):b=U;return this.a=b};u.prototype.t=function(){var c=0,b=this.a,f=this.l,h=new(t?Uint8Array:Array)(this.q+(this.b-32768)),d,q;if(0===f.length)return t?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);var G=0;for(d=f.length;G<d;++G){var U=f[G];var ea=0;for(q=U.length;ea<q;++ea)h[c++]=U[ea]}G=32768;for(d=this.b;G<d;++G)h[c++]=b[G];this.l=[];return this.buffer=h};u.prototype.I=function(){var c,b=this.b;t?this.C?(c=new Uint8Array(b),c.set(this.a.subarray(0,b))):c=this.a.subarray(0,b):(this.a.length>b&&(this.a.length=b),c=this.a);return this.buffer=c};B.prototype.p=function(){var c=this.input,b;var f=this.B.p();this.c=this.B.c;this.N&&(b=(c[this.c++]<<24|c[this.c++]<<16|c[this.c++]<<8|c[this.c++])>>>0,b!==v(f)&&a(Error("invalid adler-32 checksum")));return f};var C=8,E=F;J.prototype.j=function(){var c=0;var b=this.a;var f=C;switch(f){case C:var h=Math.LOG2E*Math.log(32768)-8;break;default:a(Error("invalid compression method"))}h=h<<4|f;b[c++]=h;switch(f){case C:switch(this.h){case E.NONE:var d=0;break;case E.r:d=1;break;case E.k:d=2;break;default:a(Error("unsupported compression type"))}break;default:a(Error("invalid compression method"))}f=d<<6|0;b[c++]=f|31-(256*h+f)%31;f=v(this.input);this.A.b=c;b=this.A.j();c=b.length;t&&(b=new Uint8Array(b.buffer),b.length<=c+4&&(this.a=new Uint8Array(b.length+4),this.a.set(b),b=this.a),b=b.subarray(0,c+4));b[c++]=f>>24&255;b[c++]=f>>16&255;b[c++]=f>>8&255;b[c++]=f&255;return b};T("Zlib.Inflate",B);T("Zlib.Inflate.prototype.decompress",B.prototype.p);Q("Zlib.Inflate.BufferType",{ADAPTIVE:R,BLOCK:z});T("Zlib.Deflate",J);T("Zlib.Deflate.compress",function(c,b){return(new J(c,b)).j()});T("Zlib.Deflate.prototype.compress",J.prototype.j);Q("Zlib.Deflate.CompressionType",{NONE:E.NONE,FIXED:E.r,DYNAMIC:E.k})}).call(this);(function(a){function T(l,n){var u=n.offset().top;n=u+n.outerHeight(!0);y[l]=[u-1E3,n+1E3]}function L(){for(var l=0;l<r.length;l++){T(l,r[l]);var n=r[l].parents();n=n.length?"HTML"!=a(n[n.length-1]).prop("tagName")?!1:!0:!1;n||(r.splice(l,1),y.splice(l,1),l--)}}function N(l){l.trigger("awaken");l.addClass("__awake");L()}function O(){for(var l=a(aa).scrollTop(),n=l+a(aa).height(),u=a(ba).height(),g;;){for(g=0;g<r.length;g++)if(!r[g].hasClass("__awake")&&n>y[g][0]&&l<y[g][1]){N(r[g]);break}break}for(g=0;g<r.length;g++)if(25E3>y[g][0]||y[g][1]>u-25E3)r[g].removeClass("__miles_away");else if(5E4<y[g][0]-l||5E4<n-y[g][1]){if(!r[g].hasClass("__miles_away")&&(r[g].addClass("__miles_away"),r[g].hasClass("__awake"))){var p=r[g];p.trigger("sleepen");p.removeClass("__awake");L()}}else r[g].removeClass("__miles_away")}function I(){var l;L();O();var n=a(aa).scrollTop(),u=n+a(aa).height(),g=a(ba).height(),p=[null,null,null,null];for(l=0;l<r.length;l++){var w=3;y[l][1]>g-25E3&&(w=2);5E4>y[l][0]&&!p[1]&&(w=1);u>y[l][0]&&n<y[l][1]&&(w=0);r[l].hasClass("__awake")||r[l].hasClass("__miles_away")||(p[w]=r[l])}for(l=0;l<p.length;l++)if(p[l]){N(p[l]);break}}var r=[],y=[],m=a.debounce(O,500);a(aa).scroll(function(){m()});a.fn.lazy=function(l){this.each(function(n,u){n=a(this);n.hasClass("__lazy")?n.removeClass("__awake"):(r.push(n),T(r.length-1,n),n.addClass("__lazy"))})};var k=a.debounce(L,500);a.lazy=function(l,n){"refresh"==l?k():"periodic"==l?setInterval(function(){k();m()},5E3):"eager"==l&&I()}})(jQuery);(function(a){a.fn.new_table_loading=function(T,L){return{generate:function(){return'<span class="new_table_thinking">working</span>'},go:function(N,O){a(".new_table_thinking",N).hide()},flux:function(N,O,I){N=a(".new_table_"+O+"ing",N);I?N.show():N.hide()},position:L.position,position_order:1}}})(jQuery);(function(a){a.fn.newtable_pager=function(T,L,N){function O(){var I=parseInt(a(this).attr("href").substring(1)),r=$table,y=r.data("view");y.pagerows=[10*I,10*(I+1)];r.data("view",y).trigger("view-updated");e.stopPropagation()}return{generate:function(){return'<ul class="newtable_pager"></ul>'},go:function(I,r){},position:L.position,size:function(I,r){var y=I.data("view").pagerows;a(".newtable_pager",I).empty();if(y&&r){y=y[0]/10;var m=Math.floor((r+10-1)/10);if(y<m){I=a(".newtable_pager",I).empty();var k;r=[];for(k=0;10>k&&k+y<m;k++)r.push(y+k);for(k=0;(10>r.length||4>k)&&y>k;k++)r.unshift(y-k-1),10<r.length&&r.pop();if(0!==r[0]){for(k=0;3>k;k++)r.shift();r.unshift(-1);for(k=0;2>k;k++)r.unshift(2-k-1)}if(r[r.length-1]!=m-1){for(k=0;3>k;k++)r.pop();r.push(-1);for(k=0;2>k;k++)r.push(m-2+k)}for(m=0;m<r.length;m++)-1==r[m]?a("<li/>").text("...").appendTo(I):r[m]==y?a("<li/>").text(y+1).appendTo(I):(k=a('<a href="#'+r[m]+'"/>').text(r[m]+1),k.on("click",O),a("<li/>").append(k).appendTo(I))}}}}}})(jQuery);(function(a){a.fn.new_table_pagesize=function(T,L){return{generate:function(){var N='Show <div class="new_table_pagesize new_table_widget"><select size="1">';a.each(L.sizes,function(O,I){O=I;0===I&&(O="All",I=-1);N+='<option value="'+I+'">'+O+"</option>"});return N+="</select></div> entries"},go:function(N,O){var I=N.data("view");I.hasOwnProperty("pagesize")&&(a("option",O).removeAttr("selected"),a('option[value="'+I.pagesize+'"]',O).attr("selected",!0));a("select",O).change(function(){var r=a("option:selected",a(this)),y=N.data("view");y.rows=[0,parseInt(r.val())];N.data("view",y);N.trigger("view-updated")})},position:L.position}}})(jQuery);(function(a){function T(r,y,m){y=parseFloat(y);m=parseFloat(m);y=(m-y)/200;0===y&&(y=1);r.integer&&(y=1);return y}function L(r,y){return function(m,k){m=r.data("options");var l=k.values[0];k=k.values[1];m.fixed||(l==r.slider("option","min")&&(l=null),k==r.slider("option","max")&&(k=null));y(N(m,l,1),N(m,k,1))}}function N(r,y,m){return r.soggy?m?Math.pow(y,2):Math.pow(y,.5):y}var O={fixed:!1,integer:!1,soggy:!1},I={init:function(r){r=a.extend({},O,r);var y=N(r,r.min,0),m=N(r,r.max,0);r.step=T(r,y,m);y=r.fixed?y:y-r.step;m=r.fixed?m:m+r.step;this.each(function(){a(this).addClass("slider").data("options",r).slider({range:!0,step:r.step,min:y,max:m,values:[y,m],slide:L(a(this),r.slide),stop:L(a(this),r.stop)})})},get:function(){var r=this.data("options"),y=this.slider("option","values").slice();r.fixed||(y[0]==this.slider("option","min")&&(y[0]=null),y[1]==this.slider("option","max")&&(y[1]=null));y[0]=N(r,y[0],1);y[1]=N(r,y[1],1);return y},set:function(r,y){var m=this.data("options"),k=this.slider("option","values").slice()||[];null===r?k[0]=this.slider("option","min"):r!==Y&&(k[0]=N(m,r,0));null===y?k[1]=this.slider("option","max"):y!==Y&&(k[1]=N(m,y,0));this.slider("option","values",[parseFloat(k[0]),parseFloat(k[1])])},get_limits:function(){var r=this.data("options"),y=r.fixed?0:r.step;return[N(r,this.slider("option","min")+y,1),N(r,this.slider("option","max")-y,1)]},set_limits:function(r,y){var m=this.data("options"),k=m.fixed?0:m.step;r!==Y&&this.slider("option","min",N(m,parseFloat(r),0)-k);y!==Y&&this.slider("option","max",N(m,parseFloat(y),0)+k)},options:function(){return this.data("options")}};a.fn.rangeslider=function(r){if(I[r]){var y=Array.prototype.slice.call(arguments,1);return I[r].apply(this,y)}if("object"!==typeof r&&r)a.error("No such method "+r);else return I.init.apply(this,arguments)}})(jQuery);(function(a){a.fn.new_table_search=function(T,L,N,O){function I(r){return r}"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});return{generate:function(){return'<input class="search" placeholder="Search..."/>'},go:function(r,y){var m=a(".search",y),k=a.whenquiet(function(l){var n=m.val();n=n.trim();if(l.data("search-value")!=n){l.data("search-value",n);var u=l.data("view");""!==n?u.search=n:delete u.search;l.data("view",u).trigger("view-updated")}},1E3);m.on("propertychange change keyup paste input",function(){k(r)});(y=r.data("view").search)&&m.val(y);r.on("view-updated",function(){var l=r.data("view").search;l&&m.val(l)})},position:L.position,pipe:function(){return[function(r,y){var m=r.search,k=m,l=r.hasOwnProperty("search");delete r.search;l||(k="");if(!k)return null;var n={};r=r.off_columns||{};for(y=0;y<T.columns.length;y++)if(!r[T.columns[y]]){var u=a.find_type(N,T.colconf[T.columns[y]]);if(u)var g=u.clean;g||(g=I);g&&(n[T.columns[y]]=g)}return{undo:function(p,w,v,B){B=[];for(var J=0;J<w.length;J++){a:{var Q=T.colconf;for(var x=w[J],t=v,F=k.toLowerCase(),z=n,R=0;R<x.length;R++){var K=t[R];if(z[K]!==Y&&x[R]&&!O("unshowable",Q[K])._any){var M=x[R];z[K]&&(M=z[K](M));if(M===Y){Q=!1;break a}if(~M.toLowerCase().indexOf(F)){Q=!0;break a}}}Q=!1}Q&&B.push(w[J])}l&&(p.search=m);return[p,B]},all_rows:!0}}]}}}})(jQuery);(function(a){a.fn.newtable_sortui=function(T,L,N,O){return{decorate_heading:function(I,r,y,m){a("div",r).css("margin-right","12px");I.sort&&r.addClass("sorting");return m}}}})(jQuery);(function(a){a.fn.new_table_style=function(T,L){return{generate:function(){var N='Layout <div class="new_table_pagesize"><select size="1">';a.each(L.styles,function(O,I){O=I[0];var r=I[1];0===I&&(r="All");N+='<option value="'+
O+'">'+r+"</option>"});return N+="</select></div>"},go:function(N,O){var I=N.data("view");I.hasOwnProperty("format")&&(a("option",O).removeAttr("selected"),a('option[value="'+I.format+'"]',O).attr("selected",!0));a("select",O).change(function(){var r=a("option:selected",a(this)),y=N.data("view");y.format=r.val();N.data("view",y);N.trigger("view-updated")})}}}})(jQuery);(function(a){function T(v,B){return v.then(function(J){var Q=a.Deferred();setTimeout(function(){Q.resolve(J)},B);return Q})}function L(v,B,J){return v.then(function(Q){var x=a.Deferred();x.resolve(0);for(var t=function(z){B(z,Q[z]);return a.Deferred().resolve(z+1)},F=0;F<Q.length;F++)x=T(x.then(t),J);return x})}function N(v,B,J,Q){var x={u:0,px:0},t=[];a.each(B.columns,function(M,P){M=B.colconf[P];var X=M.width.match(/^(\d+)(.*)$/);Q("unshowable",M)._any||J.off_columns&&J.off_columns[P]||(t.push([X[1],X[2]]),"u"!=X[2]&&"px"!=X[2])||(x[X[2]]+=parseInt(X[1]))});var F=v.width();x.px*=100/F;100<x.px&&(x.px=100);x.u=(100-x.px)/(x.u||1);var z=a("table:first th",v),R=0,K=0;a.each(B.columns,function(M,P){Q("unshowable",B.colconf[P])._any||(M=z.eq(R++),J.off_columns&&J.off_columns[P]?M.css("width","0px").addClass("invisible"):(M.css("width",t[K][0]*x[t[K][1]]+"%").removeClass("invisible"),K++))})}function O(v,B){var J=B.off_columns||{};a("th",v).each(function(){var Q=a(this);J[Q.data("key")]?Q.hide():Q.show()})}function I(v,B){var J=B;a.each(v.colconf,function(Q,x){x.type&&x.type.sort_for&&x.type.sort_for.col==B&&(J=Q)});return J}function r(v,B,J,Q){var x=v.data("view"),t=[];x&&x.sort&&(t=x.sort);var F=[],z=0,R=I(B,J);a.each(t,function(K,M){M.key==R?z=-M.dir:Q||F.push(M)});B=B.colconf[J];z||(z=B.type&&B.type.sort_down?-1:1);F.push({key:R,dir:z});x.sort=F;v.data("view",x);v.trigger("view-updated");a("th",v).removeClass("sorting_asc").removeClass("sorting_desc");a.each(F,function(K,M){K=0<M.dir?"asc":"desc";a('th[data-key="'+J+'"]').addClass("sorting_"+K)})}function y(v){var B=a('<div class="subtable"><table><tbody></tbody></table></div>');B.on("awaken",function(){if(B.data("redraw")){B.data("markup");console.log("wakeup "+B.data("xxx"));var J=B.data("markup")||"";var Q=a("table:first th",v),x="",t;for(t=0;t<Q.length;t++)Q.eq(t).data("key");for(var F=0;F<J.length;F++){x+="<tr>";var z=0;for(t=0;t<Q.length;t++){var R=Q.eq(t);if(!R.hasClass("invisible")){var K="<td>";0===F&&(K='<td style="width: '+R.width()+'px">');x=J[F][z]?x+(K+J[F][z]+"</td>"):x+(K+"</td>");z++}}x+="</tr>"}J=x;B.data("redraw",0);a("tbody",B).length||(Q=a("<table><tbody></tbody></table>"),B.empty().append(Q));ba.documentMode&&10>ba.documentMode?a("tbody",B).html(J):a("tbody",B)[0].innerHTML=J;v.trigger("markup-activate",[B]);B.css("height","");B.data("known-height",B.height());m(v);a.lazy("refresh")}});B.on("sleepen",function(){p(B)});return B}function m(v){var B=0;a(".subtable",v).each(function(){a(this).data("known-height")&&B++});a(".subtable",v).each(function(){var J=a(this),Q=J.data("known-height");Q||0===Q||J.css("height","12500px")})}function k(v,B){var J=a(".subtable",v);for(B-=250*J.length;0<B;)y(v).appendTo(a(".newtable_tabular",v)).lazy(),J=B,250<J&&(J=250),B-=J;m(v);a.lazy("refresh")}function l(v,B,J,Q,x,t){var F=Math.floor(Q.length/250);a(".subtable",v).each(function(z){if(z>F||0===Q.length)a(this).remove();else if(z==F){var R=Q.length-250*F;0===R?a(this).remove():(a(this).data("markup",[]),n(v,a(this),B,Q,x,z,J,250*z,R,t),g(v,z))}});m(v);a.lazy("refresh")}function n(v,B,J,Q,x,t,F,z,R,K){v=[];var M=F.off_columns||{},P;for(P=0;P<J.columns.length;P++)K("unshowable",J.colconf[J.columns[P]])._any||M[J.columns[P]]||v.push(x[J.columns[P]]);x=B.data("markup")||[];K=250*t;for(P=Math.max(z-K,0);250>P&&P+K<z+R&&P+K<Q.length;P++)for(x[P]=[],J=0;J<v.length;J++)x[P][J]=Q[P+K][v[J]];B.data("markup-orient",F);B.data("markup",x);B.data("xxx",t)}function u(v,B,J,Q,x,t,F,z){for(var R=[],K=Math.floor((x+t-1)/250),M=Math.floor(x/250);M<=K;M++){var P=a(".subtable",v).eq(M);n(v,P,B,J,Q,M,F,x,t,z);R.push(M)}return R}function g(v,B){v=a(a(".subtable",v).eq(B));v.data("redraw",1);v.lazy();a.lazy("refresh");return v}
function p(v){v.data("redraw",1);v.css("height",v.height()+"px");v[0].innerHTML="";v.lazy()}function w(){a.lazy("eager");setTimeout(function(){w()},3E3)}a.fn.new_table_tabular=function(v,B,J,Q){return{layout:function(x,t){x=[];Q("columns",v,x);return'<div class="new_table"><table><thead><tr>'+(x.join("")+'</tr></thead><tbody></tbody></table><div class="no_results">Empty Table</div><div class="newtable_tabular"></div><div class="new_table_loading"><div>more rows loading</div></div>')},layout_th:function(x,t){var F=t.label||t.title||x,z={};z["data-key"]=x||"";var R=a("<th><div/></th>");x=Q("decorate_heading",t,R,F)._last;x===Y&&(x=F);a("div",R).html(x);a.each(z,function(K,M){R.attr(K,M)});a.each([],function(K,M){R.addClass(M)});return a("<div/>").append(R).html()},go:function(x,t){a("th",x).click(function(F){r(x,v,a(this).data("key"),!F.shiftKey)});a("th ._ht",x).helptip();a.lazy("periodic",5E3)},add_data:function(x,t,F,z,R,K){var M=a(".subtable",x);N(x,v,K,Q);O(x,K);k(x,z+R);for(var P={},X=0;X<F.length;X++)P[F[X]]=X;t=u(x,v,t,P,z,R,K,Q);t=a.Deferred().resolve(t);var ca=!1;L(t,function(na,ha){g(x,ha);ca||(M.each(function(){var ia=a(this),ka=ia.data("markup-orient");a.orient_compares_equal(K,ka)||p(ia)}),ca=!0)},10)},truncate_to:function(x,t,F,z){t.length?a(".no_results").hide():a(".no_results").show();for(var R={},K=0;K<F.length;K++)R[F[K]]=K;l(x,v,z,t,R,Q)}}};w()})(jQuery);(function(a){function T(n){try{return!isNaN(parseFloat(n))}catch(u){return!1}}function L(n){return n?(n+"").replace(/([\d\.e\+-])\s.*$/,"$1"):n}function N(n,u,g){var p=!0;if(!u&&""!==u)return!0;if(Object.keys(n).length&&!u)return!1;a.each(n,function(w,v){!w&&""!==w||w!=u||(p=!1)});return p}function O(n,u,g){n=n.split(/[:-]/);u=u.split(/[:-]/);for(var p=0;p<n.length;p++){var w;if(w=isNaN(n[p])?isNaN(u[p])?n[p].localeCompare(u[p])*g:g:isNaN(u[p])?-g:(parseFloat(n[p])-parseFloat(u[p]))*g)return w}return 0}function I(n,u,g){n=(n||"").split(/~/);if(u){for(var p=[],w=0;w<n.length;w++){var v=n[w],B=(u["decorate/iconic"][g]||{})[v];B&&B.order?(v=""+B.order,v=Array(17-v.length).join("0")+v):v=B&&B["export"]?B["export"]:"~"+v;p.push(v)}n=p}n.sort();n.reverse();return n.join("~")}function r(n,u,g,p,w,v){if((((w["decorate/iconic"]||{})[v]||{})["*"]||{}).icon_source)return n.localeCompare(u)*g;p[n]||""===p[n]||(p[n]=I(n,w,v));p[u]||""===p[u]||(p[u]=I(u,w,v));return p[n].localeCompare(p[u])*-g}function y(n,u,g){var p=Object.keys(n);p.sort(function(B,J){var Q=(((g["decorate/iconic"]||{})[u]||{})[B]||{}).order,x=(((g["decorate/iconic"]||{})[u]||{})[J]||{}).order;return Q&&x?Q-x:Q?1:x?-1:B&&J?B.localeCompare(J):B?1:J?-1:0});for(var w={},v=0;v<p.length;v++)w[p[v]]=n[p[v]];return{keys:p,counts:w}}function m(n,u){var g=[],p={};a.each((n||{}).keys||{},function(w,v){g.push(v);p[v]=n.counts[v]});a.each((u||{}).keys||{},function(w,v){p.hasOwnProperty(v)||(g.push(v),p[v]=0);p[v]=u.counts[v]});return{keys:g,counts:p}}function k(n,u){n=a.extend({},!0,n);u.hasOwnProperty("min")&&(n.hasOwnProperty("min")||(n.min=u.min),n.min=n.min<u.min?n.min:u.min);u.hasOwnProperty("max")&&(n.hasOwnProperty("max")||(n.max=u.max),n.max=n.max>u.max?n.max:u.max);return n}function l(n,u){n=a.extend({},!0,n);a.each(u,function(p,w){n[p]||(n[p]={count:0,chr:p});n[p].count+=w.count;w.hasOwnProperty("min")&&(!n[p].min||n[p].min>w.min)&&(n[p].min=w.min);w.hasOwnProperty("max")&&(!n[p].max||n[p].max<w.max)&&(n[p].max=w.max)});var g=null;a.each(n,function(p,w){if(null===g||w.count>g.count)g=w;w.best=!1});g&&(g.best=!0);return n}Object.keys||(Object.keys=function(n){var u=[],g;for(g in n)n.hasOwnProperty(g)&&u.push(g);return u});a.fn.newtable_types=function(n,u){return{types:[{name:"string",split:function(g){return g?[g]:[]},value:function(g,p,w){g[p]=1},finish:function(g){return Object.keys(g)},match:function(g,p){return N(g,p)},sort:function(g,p,w){return g.toLowerCase().localeCompare(p.toLowerCase())*w},merge:m},{name:"numeric",clean:function(g){return L(g)},split:function(g){return[L(g)]},value:function(g,p,w){T(p)&&(g.hasOwnProperty("min")?(p=parseFloat(p),g.min=g.min<p?g.min:p,g.max=g.max>p?g.max:p):g.min=g.max=p)},match:function(g,p){a:{if(T(p)){if(p=parseFloat(p),g.hasOwnProperty("min")&&p<g.min||g.hasOwnProperty("max")&&p>g.max){g=!1;break a}}else if(g.hasOwnProperty("no_nulls")){g=!g.no_nulls;break a}g=!0}return g},sort:function(g,p,w){return(parseFloat(g)-parseFloat(p))*w},merge:k},{name:"position",value:function(g,p,w){if(p=p.match(/^(.*?):(\d+)/))g[p[1]]||(g[p[1]]={chr:p[1]}),g[p[1]].hasOwnProperty("min")?(g[p[1]].min=g[p[1]].min<p[2]?g[p[1]].min:p[2],g[p[1]].max=g[p[1]].max>p[2]?g[p[1]].max:p[2]):g[p[1]].min=g[p[1]].max=p[2],g[p[1]].count||(g[p[1]].count=0),g[p[1]].count++},match:function(g,p){a:{var w=g.chr+":";if(0===p.indexOf(w)){if(p=parseFloat(p.substr(w.length)),g.hasOwnProperty("min")&&p<g.min||g.hasOwnProperty("max")&&p>g.max){g=!1;break a}}else if(g.hasOwnProperty("nulls")){g=g.nulls;break a}g=!0}return g},sort:O,merge:l},{name:"iconic",split:function(g){return g?g.split(/~/):[]},value:function(g,p,w){if(w===Y||null===w)w=1;null===p&&(p="");g[p]||(g[p]=0);g[p]+=w},finish:y,match:function(g,p){return null===p&&g[""]?!1:N(g,p)},sort:r,merge:m}]}}})(jQuery);(function(a){a.fn.new_table_unshowable=function(T,L,N,O){return{unshowable:function(I){return I.type&&I.type.screen&&I.type.screen.unshowable}}}})(jQuery)})(jQuery,this,document);
